2004-11-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-mdi.c:
	* Makefile.am:
	* gedit-search-bar*: search bar experiment.

2004-11-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit-convert.c: mark error strings for translation.

2004-11-01  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c (open_uri_list): make code easier to understand.

2004-10-31  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file-selector-utils.c: avoid duplicate key accel.

2004-10-31  Paolo Maggi  <paolo@gnome.org>

	* gedit-document.c (gedit_document_get_uri): s/Untitled/Unsaved Document
	to be HIG v.2 compliant
	(gedit_document_get_short_name): ditto

	* gedit-plugins-engine.c (gedit_plugins_engine_load)
	(gedit_plugins_engine_load_dir) (gedit_plugins_engine_init)
	(gedit_plugins_engine_shutdown) (load_plugin_module)
	(gedit_plugins_engine_activate_plugin_real)
	(gedit_plugins_engine_activate_plugin)
	(gedit_plugins_engine_deactivate_plugin_real)
	(gedit_plugins_engine_deactivate_plugin)
	(gedit_plugins_engine_update_plugins_ui)
	(gedit_plugins_engine_active_plugins_changed): rewritted the part of
	code to load and store the list of active plugins from the GConf 
	database. Now we use a list of plugin locations. This has been done
	to fix bug #153068 (enable a couple of plugins by default)

2004-10-28  Paolo Borelli  <pborelli@katamail.com>

	* gedit-utils.[ch]
	* gedit-document.c:
	* gedit-file.c:

	More eel removal: move uri_get_basename to utils.

2004-10-27  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.[ch]: remove unused function.
	* gedit2.c: prepend and reverse the list of docs.

2004-10-27  Paolo Borelli  <pborelli@katamail.com>

	* gedit-plugins-engine.c: speedup: prepend to the list.

2004-10-25  Paolo Maggi  <paolo@gnome.org>

	* gedit-output-window.c (gedit_output_window_class_init): declares two 
	new signals (selection_changed and line_activated)
	(gedit_output_window_treeview_selection_changed): emits the "selection_changed"
	signal
	(gedit_output_window_treeview_row_activated): new function
	(gedit_output_window_init): connect to the needed signals
	(gedit_output_window_prepend_line): new function
	(gedit_output_window_set_selection_mode): ditto
	(gedit_output_window_get_selection_mode): ditto
	(gedit_output_window_get_selected_lines): ditto

	* gedit-output-window.h: adds new methods and signals

2004-10-24  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: remove insert_text_at_cursor.

2004-10-24  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c:
	* gedit-file.c:
	* gedit-utils.[ch]: remove more eel functions.

2004-10-24  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file-selector-util.c: always return uris.
	* gedit-file.c: code cleanup.
	* gedit-recent.[ch]: factor out add/remove functions.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: remove two more functions now that
	plugins do not use them anymore.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: remove unused vars and unused func.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: use gtk_text_buffer_set_text instead
	of rewriting it bad.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-plugins-engine.c: cleanup.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.[ch]: remove wrappers for line_count and char_count.
	* gedit-document-server.c: update for the above.
	* gedit-print.c: ditto.

2004-10-12  Chris Kelso  <ckelso@heliosphere.org>

	* Makefile.am: fix linking issues.

2004-10-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-command.c:
	* gedit-file.c
	* gedit-mdi-child.c:
	* gedit2.[ch]:

	Fix compilers warning recently introduced and make
	gedit_get_active_view return a GtkWidget.

2004-10-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: do not open not regular files (as devices etc),
	fixes crash reported in #153204.

2004-10-03  James Bowes  <bowes@cs.dal.ca>

	* gedit-mdi.c: (gedit_mdi_init), (gedit_mdi_drag_motion_handler),
	(gedit_mdi_drag_drop_handler), (gedit_mdi_add_view_handler),
	(gedit_mdi_set_state): Allow dropping of files onto the text view
	to open the file, even when the text view is read only. Fixes bug 
	#89881

2004-10-02  Paolo Maggi  <paolo@gnome.org>

	* gedit-file.[ch] (gedit_file_close): returns TRUE if the file has been
	really closed

	* gedit-mdi-child.c (gedit_mdi_child_tab_close_clicked): If a view is closed 
	while another one is active, re-activate the previous active view (fixes
	bug #149811: after closing a document jump to document which has been 
	open before)

2004-10-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c: don't interpret escaped sequences in a filename
	as markup.

2004-10-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c:
	* gedit-file-selector-util.c:
	* gedit-mdi.c:
	* gedit-mdi-child.c:
	* gedit-print.c:
	* gedit-utils.c: use a local copy of str_middle_truncate.

2004-10-02  Paolo Maggi  <paolo@gnome.org>

	* gedit-mdi.c (gedit_mdi_drag_data_received_handler): always opens the 
	dropped files in the right target gedit window (fixes bug #150485: 
	Dragging and dropping doesn't choose the right window)

2004-09-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c:
	* gedit-file.c:
	* gedit-utils.c: trivial s/eel/gnome_vfs for a couple of func
	that have been copied verbatim to gnome-vfs

2004-09-28  Paolo Borelli  <pborelli@katamail.com>

	* recent-files/egg-recent-model.c: sync to latest
	libegg.

2004-09-27  Paolo Borelli  <pborelli@katamail.com>

	* recent-files/egg-recent-util.c: sync to latest
	libegg.
	* gedit-utils.c: do not crash when gnome_vfs_uri_get_host_name
	return NULL;

2004-09-16  Paolo Borelli  <pborelli@katamail.com>

	* recent-files/egg-recent-model.c: sync to latest
	libegg.

2004-08-17  Mark McLoughlin  <mark@skynet.ie>

	* recent-files/egg-recent-item.c,
	  recent-files/egg-recent-view-gtk.c: sync to latest
	libegg.

2004-08-07  Paolo Borelli  <pborelli@katamail.com>

	* gedit-print.c: make the dialog resizable (Jody Golberg, #149726).

2004-08-07  Paolo Borelli  <pborelli@katamail.com>

	* recent-files/* : update from libegg.

2004-08-07  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-dialog-replace.c: don't set the separator of
	a GtkMessageDialog: it triggers a gtk warning with gtk-2.4.

2004-08-06  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c:
	* gedit-utils.c: substitute eel_make_uri_canonical with
	gnome_vfs_make_uri_canonical.
	* gedit_utils.c: local copy of button_new_with_stock_icon

2004-08-06  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c (gedit_file_revert): don't leak uri.

2004-08-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-mdi.c: use document_get_deleted instead of
	open coding it. Spotted by Vinay M R.

2004-08-05  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-close-confirmatoion-dialog.c: 
	s/definitively/permanently.

2004-08-02  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-plugin-manager.c: fix previous fix.

2004-07-30  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-plugin-manager.c: avoid multiple about dialogs.
	* gedit-commands.c: remove unuseful scaling of the about pixbuf.

2004-07-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* dialogs/uri.glade: Move labelled-by relation from GtkEntry 
	to GtkCombo. Fixes bug #145138

2004-07-19  Paolo Maggi  <paolo.maggi@polito.it>

	Fixes bug #135452: "Failed to lock" -> recent files disappear

	* recent-files/egg-recent-model.c (egg_recent_model_lock_file):
	Attempt to lock the file 5 times, waiting a random interval (< 1 second)
	in between attempts.
	(egg_recent_model_unlock_file): cosmetic changes

2004-07-16  Vinay  <vinay.mandyakoppal@wipro.com>

	* gedit/gedit2.c (gedit_load_file_list):
	* gedit/gedit-file.c (create_new_file) (gedit_file_open_uri_list_real):
	* gedit/gedit-utils.[ch]:
	Removes alert and file will not be saved while creating a non-exsistent
	file from command line. Fixes #135709.

2004-07-16  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.[ch]: allow to specify the encoding when opening a
	uri list.
	* gedit-mdi.c:
	* gedit-window-server.c: update the callers.
	* gedit2.c: add the --encoding option.

2004-07-14  Paolo Maggi  <paolo.maggi@polito.it>

	* bonobo-mdi.c (bonobo_mdi_n_views_for_window):
	* bonobo-mdi.h (bonobo_mdi_n_views_for_window): rename
	bonobo_mdi_n_children_for_window to bonobo_mdi_n_views_for_window

	* gedit-file.c (gedit_file_close) (gedit_file_close_all):
	always call gedit_mdi_set_active_window_verbs_sensitivity (fix 
	bug #142091). Based on a patch by Madhan Raj M <raj_madan@rediffmail.com>

	* gedit-mdi-child.c (menu_show): 
	s/bonobo_mdi_n_children_for_window/bonobo_mdi_n_views_for_window
	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity): ditto

2004-07-13  Paolo Borelli  <pborelli@katamail.com>

	* gedit2.[ch]:
	* gedit-commands.c: remove two unused global vars.

2004-07-10  Muktha  <muktha.narayan@wipro.com>

	* dialogs/gedit-close-confirmation-dialog.c 
	(gedit_close_confirmation_dialog_init): Set accessible name for
	the confirmation dialog. Fixes #144863.

2004-06-26  Muktha  <muktha.narayan@wipro.com>

	* dialogs/gedit-page-setup-dialog.c (dialog_response_handler):
	* dialogs/gedit-preferences-dialog.c (dialog_response_handler):
	Display help when page setup help button is clicked.
	Fixes #141505 and #144999.

2004-06-27  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-preferences-dialog.c: fix bug #141741 (Syntax
	Highlighting prefernces get confused). Based on a patch by Travis
	Snoozy.

2004-06-25  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/replace.glade2: fix bug #143410.
	Patch by <padraig.obriain@sun.com>

2004-06-25  Paolo Borelli  <pborelli@katamail.com>

	* gedit-encodings-option-menu.c: include config.h, patch from
	Takao Fujiwara. Fixes 144525.

2004-06-11  Kaushal Kumar <kaushal.kumar@wipro.com>
 
	Patch by: Archana Shah <archana.shah@wipro.com>
	Approved by: Paolo Maggi <paolo.maggi@polito.it>

	* gedit-file.c (gedit_file_revert_dialog):
	Set accessible name for dialog.

	* gedit-file-selector-utils.c (replace_dialog):
	Set accessible name for dialog.

	Fixes bug #143688.

2004-04-27  Paolo Maggi  <paolo.maggi@polito.it>

	* bonobo-mdi.c (book_add_view): calls set_active_view (fixes 
	bug #137805: Text area unfocused after opening)

	 (bonobo_mdi_set_active_view): removed unused window variable

	(bonobo_mdi_add_views): sets as active the last added view

2004-04-27  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-preferences-dialog.c (get_selected_style)
	(style_button_toggled): check if style = NULL

	* gedit-file-selector-util.c (create_gtk_selector)
	(run_file_selector) (gedit_file_selector_open)
	(gedit_file_selector_open_multi) (gedit_file_selector_save):
	really fixes bug #137329: Wrong filename got after Save as

	* gedit-file-selector-util.h (gedit_file_selector_save): added
	untitled_name parameter

	* gedit-file.c (gedit_file_save_as): use the new gedit_file_selector_save
	prototype

2004-04-17  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-file-selector-util.c (create_gtk_selector): try to call
	gtk_file_chooser_set_filename before calling gtk_file_chooser_set_current_name
	(run_file_selector): Enable vfs file choosing

	* gedit-file.c (gedit_file_save_as): does not convert "Untitled" to 
	current locale (fixes bug #137329: Wrong filename got after Save as)

2004-04-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file.c: s/definitively/permanently, from cs_is@yahoo.com.
	* dialogs/gedit-close-confirmation-dialog.c: use ngettext, bug #134458.

2004-04-04  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c: janitorial, use suggested gtk_text_view api.

2004-04-04  Paolo Borelli  <pborelli@katamail.com>

	* bonobo-mdi.h: add missing G_END_DECLS, noticed by Yotam Medini.
	* bonobo-mdi-child.h: ditto.

2004-04-04  Paolo Borelli  <pborelli@katamail.com>

	* gedit-debug.[ch]:
	* gedit2.c: debugging output is now enabled by setting env vars.

2004-03-27  Paolo Borelli  <pborelli@katamail.com>

	* gedit-document.c (gedit_document_replace_selected_text): fix leak
	on error.

2004-03-26  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-dialog-replace.c
	(replace_dlg_replace_button_pressed): cosmetic changes

	* gedit-document.c (gedit_document_find): fixed bug #138051 (Reproducible 
	search/replace dialog application lockup).

2004-03-13  Rob Adams  <readams@readams.net>

	* dialogs/gedit-preferences.glade2: Change type hint to
	GDK_WINDOW_TYPE_HINT_DIALOG.  Fix for #136920.

2004-03-05  Paolo Maggi  <paolo.maggi@polito.it>

	Fixes bug #104950 (Right-click unselects text if you click 
	outside the selection)

	* gedit-view.c (button_press_event): removed
	(gedit_view_init): does not connect the "button-press-event" signal

2004-03-05  Albert Chin-A-Young  <china@thewrittenword.com>

	* dialogs/gnome-print-font-picker.c: IBM C compiler wants
        bit types to be signed or unsigned integers

	* Makefile.am: Link order matters on IRIX

	* gedit-debug.h: Don't override __FUNCTION__ if the
        compiler supports it

2004-03-05  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.c (gedit_document_get_uri): use gnome_vfs_format_uri_for_display
	instead of eel_vfs_format_uri_for_display

	* gedit-file-selector-util.c (create_gtk_selector): uses
	gtk_file_chooser_set_current_folder_uri istead of gtk_file_chooser_set_current_folder
	because now the default_path must be an URI. Fixes bug #135987

	* gedit-file.c (get_dirname_from_uri): returns an URI
	(gedit_file_open): uses gedit_default_path when default_path is NULL

2004-03-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit-mdi.c: restore Higlight Mode menu to the proper sensitivity.
	* gedit-gedit-prefs-manager-app.c: update the sensitivity of the
	Higlight Mode menu.

2004-03-05  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-file-selector-util.c (analyze_response): fixed bug #136231 (Should 
	not run the file chooser in a loop to enter folders)

2004-03-05  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-preferences-dialog.c: make the enable_syntax_highlight
	check button work, fixes #135628.
	* gedit-document.c: turn syntax highlighting on only if the pref is set
	to TRUE.

2004-03-05  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.c (get_slow_mime_type): new function (it will
	be removed when gnome-vfs will expose an equivalent public
	function)
	(gedit_document_set_uri): use get_slow_mime_type to get the mime-type,
	fixes bug #135565 (.cgi files no longer highlight)

	* gedit-mdi-child.c (get_slow_mime_type): new function
	(set_tab_icon)(set_tooltip): use get_slow_mime_type to get 
	the mime-type

	Probably we should add a gedit_document_get_mime_type function.

2004-02-25  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-commands.c (gedit_cmd_help_about): added Paolo Borelli 
	to the list of authors, update copyright string

2004-02-24  Paolo Maggi  <paolo.maggi@polito.it> 

	[ gedit 2.5.90 released ]

2004-02-24  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-file-selector-util.c (all_text_files_filter):
	the "All Text Files" filter now include also perl, pythons, php
	and desktop files (as special cases). 
	(create_gtk_selector): set "All Files" filter as default filter

	* gedit2.[ch] (gedit_get_mdi): new method

2004-02-22  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-preferences.glade2: port to GtkColorButton
	* dialogs/gedit-preferences-dialog.c: ditto.

2004-02-21  Paolo Borelli  <pborelli@katamail.com>

	* dialogs/gedit-preferences.glade2: port to GtkFontButton
	* dialogs/gedit-preferences-dialog.c: ditto.

2004-02-19  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi-child.c (set_tooltip): does not display "MIME-Type: Unknown"
	in the case mime_type != NULL and mime_description == NULL 

2004-02-19  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-file-selector-util.c: use gtk_dialog_run instead of the
	equivalent hand made solution we used till now
	(create_gtk_selector): mark filters name for translation (fixes 
	bug #133604)

	* gedit-preferences-dialog.c: now the Syntax Highlight page really
	works (fixes bug #133269 and #133481)

	* gedit-preferences.glade2: use GtkColorButton instead of
	GnomeColorButton in the Syntax Highlight page

2004-02-13  Paolo Maggi  <paolo.maggi@polit.it>

	* recent-files/*: Update to latest libegg recent-files code

2004-02-12  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-prefs-manager.h: removed unused #define 
	GPM_DEFAULT_SAVE_ENCODING

	* gedit-ui.xml: removed unused hidden Debug menu

2004-02-10  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* dialogs/gedit-preferences-dialog.c:
	(setup_syntax_highlighting_page): Don't highlight single column lists.

2004-02-06  Mark McLoughlin  <mark@skynet.ie>

	* Makefile.am:
	  dialogs/Makefile.am:
	  recent-files/Makefile.am:
	use $(WARN_CFLAGS) and $(DISABLE_DEPRECATED_CFLAGS)

2004-02-09  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file-selector-utils.c: handle response
	GTK_RESPONSE_DELETE_EVENT like a cancel. (#133851)

2004-01-15  Paolo Maggi  <paolo.maggi@polito.it> 

	[ gedit 2.5.3 released ]

2004-01-13  Paolo Maggi  <paolo.maggi@polito.it> 

	* gedit-view.[ch] (gedit_view_set_editable): new function

	* gedit-menus.[ch] (gedit_menus_all_sensible_verbs)
	(gedit_menus_loading_sensible_verbs)
	(gedit_menus_printing_sensible_verbs): new sets of verbs

	* gedit-mdi.[ch] (state_changed): new signal
	(gedit_mdi_get_state)(gedit_mdi_set_state): new methods

	* gedit-mdi.c (update_ui_according_to_state): new function.
	(gedit_mdi_add_open_button): returns the button
	(gedit_mdi_remove_views_handler): doesn't remove view if state
	is different from GEDIT_STATE_NORMAL
	(gedit_mdi_set_active_window_verbs_sensitivity): take care of
	state

	* gedit-mdi-child.c (gedit_state_changed_handler): new function
	(menu_show): disable menu items if state is different from normal

	* gedit-file.c (grab_mouse)(ungrab_mouse): removed. 
	Use gedit_mdi_set_state to set the state while loading.

2004-01-12  Paolo Borelli  <pborelli@katamail.com>

	* gedit/bonobo-mdi.c: handle don't start drag&drop when
	double-clicking on a tab (fixes 129994).

	* gedit/gedit-file.c: fix a compilation warning.

2004-01-12  Paolo Maggi  <paolo.maggi@polito.it> 

	Implemented async loading of remote files.

	New Close All dialog (thanks to Paolo Borelli for his
	help)

	HIG-fication of the revert dialog (thanks to Paolo Borelli 
	for his	help)

	This is a very big patch and I'm too lazy to fill a more
	detaild ChangeLog entry.

	Modified files:
	
	* bonobo-mdi.c
	* bonobo-mdi.h
	* gedit-commands.c
	* gedit-document.c
	* gedit-document.h
	* gedit-file.c
	* gedit-file.h
	* gedit-marshal.list
	* gedit-mdi-child.c
	* gedit-mdi-child.h
	* gedit-mdi.c
	* gedit-mdi.h
	* gedit-session.c
	* gedit-ui.xml
	* gedit-utils.c
	* gedit-utils.h
	* gedit-view.c
	* gedit-window-server.c
	* gedit2.c
	* dialogs/Makefile.am
	
	New files:
	* dialogs/gedit-close-confirmation-dialog.c
	* dialogs/gedit-close-confirmation-dialog.h
	* dialogs/close_all_dialog.glade2


	
2004-01-06  Paolo Borelli  <pborelli@katamail.com>

	* gedit-mdi.c: factor out gedit_document_get_deleted.

	* gedit-document.[ch]: see above.

2004-01-05  Paolo Borelli  <pborelli@katamail.com>

	* plugins/docinfo/docinfo.c: remove separator and use
	gedit_warning where appropriate.

	* plugins/shell_output/shell_output.c: ditto.

	* plugins/sort/sort.c: ditto.

	* plugins/time/time.c: ditto.

	* plugins/time/time.glade2: remove separator.

	* plugins/sort/sort.glade2: ditto.

	* plugins/spell/languages-dialog.glade2: ditto.

2004-01-03  Anders Carlsson  <andersca@gnome.org>

	* gedit-mdi-child.c: (gedit_mdi_child_set_label):
	Don't use EelInputEventBox, use gtk+ instead.
	
2004-01-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit-utils.[ch]: remove gedit_button_new_with_stock_image
	since eel has an analougus function, modify gedit_warning to
	take a format, define common error strings MISSING_FILE and
	MISSING_WIDGETS.

	* dialogs/gedit-dialog-goto-line.c: remove separator and use
	gedit_warning and gedit_dialogs_add_button where appropriate.

	* dialogs/gedit-dialog-replace.c: ditto.

	* dialogs/gedit-dialog-uri.c: ditto.

	* dialogs/gedit-page-setup-dialog.c: ditto.

	* dialogs/gedit-plugin-program-location-dialog.c: ditto.

	* dialogs/gedit-preferences-dialog: fix the use of gedit_warning.

	* plugins/time/time.c: ditto.

2004-01-02  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.[ch]: new function 
	gedit_document_get_seconds_since_last_save_or_load
	
2003-12-30  Paolo Maggi  <paolo.maggi@polito.it>

	Fixes bug #120727 - Unnecessary calls to gtk_window_set_title

	* bonobo-mdi.c (app_set_view): sets window title only if
	view == NULL

	* gedit-file.c (gedit_file_close): does not call 
	gedit_mdi_set_active_window_title

	Patch by <padraig.obriain@sun.com>

2003-12-30  Paolo Maggi  <paolo.maggi@polito.it>

	Fixes bug #87172 - Should never disable (unsensitive) the 
	Revert functions

	* gedit-menus.c: removed /commands/FileRever from 
	gedit_menus_not_modified_doc_sensible_verbs

	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity): checks
	if the document is untiled even when it has not been modified 
	(to disable Revert)

2003-12-30  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi-child.c (gedit_mdi_child_real_state_changed): 
	truncate the doc name to 40 chars (bug #127638 -
	window tabs should truncate filenames if its to long)

2003-12-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit-file-selector-util.c (replace_dialog):
	HIGification of the replace confirmation dialog (bug #130226).

2003-12-29  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi.c (gedit_mdi_remove_child_handler): 
	HIGgification of the close confirmation dialog 
	(bug #128810). Patch by	Paolo Borelli (pborelli@katamail.com)

2003-12-29  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi-child.c (set_tooltip): mark tip as translatable

	* gedit-mdi.c (gedit_mdi_set_active_window_title): Truncate 
	the URI so it doesn't get insanely wide. Set the icon name equals
	to the document short name.

	* gedit-ui.xml: added icon to the Edit->Delete menu entry

	* gedit-document.c (gedit_document_finalize): 
	s/gtk_source_language_get_name/gtk_source_language_get_id 
	(fixed bug #128379 - highlighting sometimes fails)

2003-12-29  Paolo Maggi  <paolo.maggi@polito.it>

	Fixed bug #128548 (gedit should use the new gtk+ 2.3 GtkFileChooser).
	Based on a patch by Jan Arne Petersen  <jpetersen@uni-bonn.de>

	* gedit/gedit-file-selector-util.c (response_cb),
	(create_gtk_selector), (run_file_selector): replace 
	GtkFileSelection with GtkFileChooser

	* gedit/gedit-file-selector-util.h (gedit_file_selector_open_multi): 
	now returns a GSList instead of a null terminated string 
	array (because gtk_file_chooser_get_filenames returns a GSList).
	Remved mime_type parameter

	* gedit/gedit-file.c (gedit_file_open): replace the use of 
	the null terminated string array with GSList

2003-12-29  Danilo Segan  <dsegan@gmx.net>

	* dialogs/gedit-dialog-replace.c: Use ngettext
          where appropriate.

	* gedit-file.c: Likewise.

2003-12-29  Eric Ritezel <eisenwulf@inductiveart.net>

	* gedit-utils.c (gedit_utils_convert_search_text): add special
	case for single backslash search (fix #118935)

2003-11-23  Paolo Maggi  <paolo.maggi@polito.it>

	* */Makefile.am: Disable deprecates only in maintainer mode

2003-10-23  Paolo Maggi  <paolo.maggi@polito.it>
	
	Fixed bug #102543

	* gedit-mdi.c (gedit_mdi_add_open_button)(tooltip_func): add
	tooltips to the recent files popup menu
	(tip_func)(gedit_mdi_app_created_handler): show a hint in the 
	status bar when selecting a recent file in the File menu
	
2003-10-21  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-ui.xml: s/string/text (fixes bug #117518)

2003-10-21  Paolo Maggi  <paolo.maggi@polito.it>

	Partially fixes compilation on Darwin (bug #124238, patch by
	Jerry Talkington <jtalkington@users.sourceforge.net>)

	* gedit-document.c (gedit_document_load): s/gsize/gint for file_size,
	s/eel_read_entire_file/gnome_vfs_read_entire_file

	* gedit-plugins-engine.c: #include <sys/types.h> before <dirent.h>

2003-10-21  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-page-setup-dialog.c (get_page_setup_dialog):
	fixes some troublesome strings (bug #117360 and bug #115633, patch
	by Dafydd Harries <daf@parnassus.ath.cx>)

2003-10-20  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-print.c (preview_finished_cb)(print_finished_cb): fixes
	bug #124769 (patch by bland@mail.ru)

2003-10-20  Paolo Maggi  <paolo.maggi@polito.it> 

	* gedit-commands.c (gedit_cmd_help_about): s/Gnome/the GNOME Desktop

2003-10-20  Paolo Maggi  <paolo.maggi@polito.it>

	* Makefile.am (INCLUDES): remove -DGTK_DISABLE_DEPRECATED and
	-DGNOME_DISABLE_DEPRECATED
	
	* dialogs/Makefile.am: ditto

2003-09-26  Paolo Maggi  <paolo.maggi@polito.it>

	*  plugin-manager.glade2: added a label to the About Plugin button
	(fixes bug #117056)

2003-09-26  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit2.c: #include <locale.h>, fixes bug #122790 (thanks to 
	  msuarezalvarez@arnet.com.ar and Ettore Perazzoli)

2003-09-25  Paolo Maggi  <paolo.maggi@polito.it>
 
 	* gedit-plugin.[ch](gedit_plugin_locate_program): added gconf_key and
 	  help_id parameters.
 
 	* dialogs/gedit-dialogs.h (gedit_plugin_program_location_dialog): 
 	* dialogs/gedit-plugin-program-location-dialog.c (gedit_plugin_program_location_dialog):
 	  added gconf_key and help_id parameters.
 
 	This patch is needed to fix bugs #117365 and #117443.
 
 	Thanks to Balamurali Viswanathan <balamurali.viswanathan@wipro.com> for
 	the initial patch.
 
2003-09-18  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-preferences.glade2:
	* dialogs/gedit-preferences-dialog.[ch]: rewritten

	* gedit-commands.c (gedit_cmd_settings_preferences): use the
	  new preferences dialog

	* gedit-document.c (gedit_document_set_language): call 
	  gedit_language_init_tag_styles if needed

	* gedit-languages-manager.c (gedit_get_languages_manager): initialize
	  gconf_client
	  (get_gconf_key)(gdk_color_to_string)(tag_style_to_string)
	  (string_to_tag_style)(gedit_language_set_tag_style
	  (gedit_language_init_tag_styles): new functions

	* gedit-languages-manager.h (gedit_language_set_tag_style)
	  (gedit_language_init_tag_styles): new functions

	* gedit-prefs-manager-app.c (gedit_prefs_manager_right_margin_changed)
	  (gedit_prefs_manager_syntax_hl_enable_changed): new functions

	* gedit-prefs-manager.[ch]: manages the new gconf keys added in 
	  the schema file

	* gedit-view.c (gedit_view_init): show right margin if needed

2003-09-09  Paolo Maggi  <paolo.maggi@polito.it>

	[ gedit 2.4.0 released ]

2003-09-09  Paolo Maggi  <paolo.maggi@polito.it>

	* Makefile.am: don't distribute generated files (patch by Michael Meeks)

	* recent-files/*: Update to latest libegg recent-files code

2003-08-26  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.c: really disable bracket matching

2003-08-26  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-encoding.c: manage unknown current locale encodings
	in the right way (fix bug #120699)

2003-08-25  Paolo Maggi  <paolo.maggi@polito.it>

	*  dialogs/gedit-preferences-dialog.c: reverting "Text Wrapping" to
	"Wrap Mode" since it broke the string freeze.

2003-08-23  Eric Ritezel <eisenwulf@inductiveart.net>
 
 	* dialogs/gedit-dialog-replace.c (dialog_find/replace_get_dialog):
 	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog):
 	* gedit-commands.c (gedit_cmd_help_about): use gtk_window_present ()
 	instead of gdk_window_* () (#116521: about dialog not unrolling)

2003-08-23  Paolo Maggi  <paolo.maggi@polito.it>

	Fixed bug #120481

	* dialogs/gnome-print-font-dialog.c (gnome_print_font_dialog_init):
	the dialog is now resizable

2003-08-23  Paolo Maggi  <paolo.maggi@polito.it>

	Fixed bug #119361

	* gedit-encodings.c (gedit_encoding_get_current): set locale_encoding
	to ASCII if the current charset is unknown.
	(gedit_encoding_get_from_charset): returns a pointer to ascii_encoding
	if charset is US-ASCII

	* gedit-encodings-option-menu.c (update_menu): check if 
	current_encoding != NULL before adding the "Current Locale" menu item

2003-08-22  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-file-selector-util.c (create_gtk_selector): 
	avoid resizing of the Character Coding button when the dialog 
	is resized (bug #120351)

2003-08-22  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.c (gedit_document_new): disable bracket matching
	since it is broken.
	(gedit_document_set_uri)(gedit_document_set_language): 
	use the new function gedit_languages_manager_get_language_from_id 
	instead of the old gedit_languages_manager_get_language_from_name

	* gedit-languages-manager.[ch]: rename 
	gedit_languages_manager_get_language_from_name to
	gedit_languages_manager_get_language_from_id

	* gedit2.c (main): fix the --help messages translation problem 
	as reported on the desktop-devel mailing list

	* dialogs/gedit-preferences-dialog.c: remove unused code

	* dialogs/gedit-preferences.glade2: remove unused pages

2003-06-30  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-preferences-dialog.c: disable the Print pages

2003-06-30  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit2.c (main): initialize the gnome auth manager
	(fix bug #95121)

2003-06-16  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* gedit-prefs-manager.c: (gconf_value_type_to_string):
        don't use g_return_val_if_fail (FALSE, ..), use g_return_val_if_reach
        instead, gcc 3.3 doesn like it.

2003-06-14  Jordi Mallach  <jordi@sindominio.net>

	* dialogs/gedit-page-setup-dialog.c (setup_font_page): Fix typo.

2003-06-12  Anders Carlsson  <andersca@codefactory.se>

	* gedit-tooltips.c: (gedit_tooltips_destroy),
	(gedit_tooltips_set_active_widget), (gedit_tooltips_start_delay):
	Don't use functions that are deprecated in gtk+ HEAD.
	
2003-06-12  Paolo Maggi <paolo.maggi@polito.it>

	Added Page Setup menu item and dialog

	* dialogs/page-setup-dialog.glade2:
	* dialogs/gedit-page-setup-dialog.[ch]: new files

	* dialogs/Makefile.am: compile the new files

	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog):
	fix a mem leak

	* dialogs/gnome-print-font-picker.c: fix a mem leak

	* gedit-commands.[ch] (gedit_cmd_file_page_setup): new function,
	shows the page setup dialog

	* gedit-menus.c: added FilePageSetup to gedit_verbs

	* gedit-prefs-manager.[ch] (gedit_prefs_manager_get_print_syntax_hl)
	(gedit_prefs_manager_set_print_syntax_hl)
	(gedit_prefs_manager_print_syntax_hl_can_set): new functions

	* gedit-print.c (gedit_print_job_info_new): print syntax highlighting
	only if gedit_prefs_manager_get_print_syntax_hl returns TRUE. 
	Mark "Page %N of %Q" string for translation.
	
	* gedit-ui.xml: added the File->Page Setup menu item

	* gedit-utils.[ch] (gedit_warning): new function, displays an error 
	message	box

2003-06-09  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-print.[ch]: rewritten

2003-06-09  Eric Ritezel <eisenwulf@inductiveart.net>
 
 	* gedit-document.h: added can_find_again property and handler
	(#114451: SearchFindNext/Prev sensitivity needs signal updates)

 	* gedit-document.c: added CAN_FIND_AGAIN signal (#114451)
 	(gedit_document_class_init): updated for CAN_FIND_AGAIN
	(gedit_document_can_find_again):
 	(gedit_document_real_can_find_again): added
 	(gedit_document_find): emit CAN_FIND_AGAIN

 	* gedit-mdi-child.h: added find_state_changed property

 	* gedit-mdi-child.c: added FIND_STATE_CHANGED signal (#114451)
 	(gedit_document_class_init): updated for FIND_STATE_CHANGED
 	(gedit_mdi_child_can_find_again_handler): added
 	(gedit_mdi_child_connect_signals): handle CAN_FIND_AGAIN

 	* gedit-mdi.c: cleanup/update
 	(gedit_mdi_child_can_find_again_handler):
 	(gedit_mdi_child_find_state_changed_handler):
 	(gedit_mdi_set_active_window_find_verbs_sensitivity): added
 	(gedit_mdi_set_active_window_undo_redo_verbs_sensitivity): cleanup
 	(gedit_mdi_[add|remove]_child_handler): handle FIND_STATE_CHANGED
 	(gedit_mdi_set_active_window_verbs_sensitivity): updated to use
 	gedit_document_can_find_again ()

 2003-06-07 Eric Ritezel <eisenwulf@inductiveart.net>
 
 	* dialogs/replace.glade2: added checkbutton for backwards searching
 	(#99730: UI review dictates backwards searching option.)
 
 	* dialogs/gedit-dialog-replace.c: updated for backwards searching
 	([find|replace]_dlg_find_button_pressed):
 	(replace_dlg_replace_button_pressed):
 	(dialog_[find|replace]_get_dialog): reflect new glade changes
 	(gedit_dialog_[find|replace]): reflect changes in dialog structure 
 
 	* gedit-document.[ch]: updated structs/prototypes for backwards search
 	(gedit_document_find_again):
 	(gedit_document_replace_all): updated for backwards searching
 	(gedit_document_find): added hooks for GtkSourceView backwards search
 
 	* gedit-document.h: added GEDIT_SEARCH_ macros/defs for manipulating
 	the search parameter bitfield ("Probably we need to think a more
 	extensible signature for the gedit_document_find function").
 
 	* gedit-commands.[ch]: updated Find Next, added Find Previous.
 
 	* gedit-menus.c:
 	* gedit-mdi.c: /commands/SearchFindAgain to FindNext and FindPrev
 	* gedit-ui.xml: add accelerator *Shift**Contol*G for FindPrev  

2003-06-06  Paolo Maggi <paolo.maggi@polito.it> 

	New way for managing encodings.

	Modified files:

	* gedit-convert.[ch]: rewritten

	* gedit-document.[ch]: load and save need an encoding parameter

	* gedit-encodings-option-menu.c: uses new gconf keys

	* gedit-file.[ch]: uses modified gedit-document functions

	* gedit-mdi-child.[ch]: ditto

	* gedit2.c: ditto

	* gedit-prefs-manager.[ch]: supports new gconf keys

	* gedit-utils.c: new error messages

	* dialogs/gedit-dialog-uri.c:
	*  dialogs/uri.glade2: add new Character coding option menu

	* dialogs/gedit-encodings-dialog.c:  uses new gconf keys

	* dialogs/gedit-preferences-dialog.c: removed Load page and commented out
	part of the Save dialog

2003-06-03  Paolo Maggi <paolo.maggi@polito.it> 

	* dialogs/gedit-plugin-manager.c:
	* dialogs/plugin-manager.glade2: fixed plugin manager according to GNOME 2.2
	ui-review (at least, according to what I remember since I don't have the log
	of the part of the review containing the comments about plugin manager).
	
2003-06-03  Paolo Maggi <paolo.maggi@polito.it> 

	* gedit-document.c (gedit_document_find ): use 
	gtk_source_iter_forward_search
	
	* gedut-utils.[ch]: remove functions related to caseless searching (now
	gedit uses the functions provided by GtkSourceView)
		
2003-06-03  Paolo Maggi <paolo.maggi@polito.it> 

	* gedit-view.c (gedit_view_init): disables smart-home and smart-end
	(fixes bug #113878 - Weird cursor behavior using the <HOME> key)
	
2003-05-26 Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-tooltips.[ch]: new files (from gtk+)

	* Makefile.am: compile new files

	* gedit-document.c (gedit_document_init): eventually set 
	to UTF-8 the encoding of the document

	* gedit-encodings-option-menu.c: add save_mode property,
	(update_menu): re-written
	(gedit_encodings_option_menu_get_selected_encoding):
	(gedit_encodings_option_menu_set_selected_encoding): implemented

	* gedit-encodings.[ch] (gedit_encoding_get_utf8):
	(gedit_encoding_get_current): new methods

	* gedit-file-selector-util.c (run_file_selector): get the selected
	encoding from the menu
	(gedit_file_selector_open_multi): add encoding parameter
	(gedit_file_selector_open): ditto
	(gedit_file_selector_save): ditto

	* gedit-file.c (gedit_file_open): use new gedit_file_selector_open_multi
	signature
	(gedit_file_save_as): use new gedit_file_selector_save signature

	* gedit-mdi-child.c: show MIME type and Encoding in the tooltip

	* gedit-mdi.c:
	* gedit-ui.xml: remove the encoding status bar

2003-05-21  Eric Ritezel  <eisenwulf@inductiveart.net>
 
         * gedit-mdi-child.c (gedit_mdi_child_set_label): switch to
 	EelInputEventBox, add comments. 

2003-05-21 Paolo Maggi  <paolo.maggi@polito.it>

        * gedit-encodings-option-menu.[ch]: new files

	* Makefile.am: compile new files

	* gedit-encodings.[c] (gedit_encoding_get_name): new public method

	* gedit-file-selector-util.c: don't use bonobo-file-selector-util
	anymore, remove the unused bonobo file selector stuff, added support
	for encodings

	* dialogs/gedit-encodings-dialog.c: rewritten (part of the code taken
	from gnome-terminal)
	* dialogs/gedit-encodings-dialog.glade2: ditto
	* dialogs/gedit-encodings-dialog.h: ditto

	* dialogs/gedit-preferences-dialog.c: temporarily disabled buttons in the 
	Open page

2003-05-20  Paolo Maggi  <paolo.maggi@polito.it>

        * gedit-document.[ch] (gedit_document_get_encoding): new function

        * gedit-encodings.c (gedit_encoding_get_from_charset): returns
	NULL if charset == NULL
	
	* gedit-mdi.c:
	* gedit-ui.xml: add an Encoding status bar
	
2003-05-20  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-languages-manager.[ch]: new files
	
	* Makefile.am: compile new files, do not install
	gedit-window-server.h
	
	* gedit-document.c: manage the "language" metadata,
	(gedit_document_set_uri): set language using metadata info
	if needed
	(gedit_document_set_language)(gedit_document_get_language):
	new functions
	
	* gedit-mdi.c: add the Highlight Mode submenu
	
	* gedit-menus.[ch] (gedit_menus_add_menu_item_radio)
	(gedit_menus_add_menu_item_radio_all): nw functions
	
	* gedit-ui.xml: add the Highlight Mode submenu
	
2003-05-13  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-metadata-manager.[ch]: new files

	* Makefile.am: compile gedit-metadata-manager.[ch]

	* gedit-document.c (gedit_document_finalize)(gedit_document_real_loaded):
	save and restore cursor position, last searched and last replaced text
	as metadata.

	* gedit-file.c (gedit_file_exit): shutdown metadata manager
	
	* gedit-session.c (client_die_cb):  shutdown metadata manager

	* gedit2.c (main): init metadata manager, added --debug-metadata to
	command line parameters

	* gedit-debug.[ch]: add support for debugging metadata

2003-05-12  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-ui.xml: fixed bug #105378 - View > Customize Toolbar 
	options should be changed

2003-05-12  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi.c : always show Cursor Position and Overwrite Mode

	* gedit-ui.xml: removed commads StatusBarCursorPosition and 
	StatusBarOverwriteMode

	* gedit-prefs-manager.[ch]: removed statusbar_show_cursor_position	
	and statusbar_show_overwrite_mode  related functions and constants

2003-05-12  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-encodings.c: added a KOI8-R encoding (fixes bug #112831 -
	Does not open files with the Russian text in the coding distinct 
	from utf, krash. Patch by alexhack@inbox.ru)

2003-05-08  Yogeesh MB  <yogeeshappa.mathighatta@wipro.com>
 
 	* gedit-utils.c (remove_timeout_cb)(bonobo_window_flash): 
 	Replaced deprecated calls gtk_timeout_remove and gtk_timeout_add 
 	(fixes bug#105363)

2003-05-06  Paolo Maggi  <paolo.maggi@polito.it>

	* Makefile.am: install the minimal set of header files needed by plugins

	* *.[ch]: #include the installed header files in the right way 
	(ex. #include <gedit/gedit.view.h>)

	* dialogs/Makefile.am
	* recent-files/Makefile.am: cleaned up

2003-05-05  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-document.[ch]:
	* gedit-view.c: now GtkSourceView installs its headers in gtksourceview

2003-05-02  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-print.c (gedit_print_job_info_new): set the number of copies 
	to 1 and collate to FALSE

2003-04-23  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-commands.c: don't let the toolbar grab the focus

2003-04-23  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-view.c (gedit_view_update_cursor_position_statusbar):
	s/Col./Col, fixes bugs #104439 and #105054

	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity):
	* dialogs/gedit-dialog-replace.c (update_menu_items_sensitivity)
	(find_dlg_find_button_pressed)(replace_dlg_find_button_pressed)
	(replace_dlg_replace_button_pressed)
	(replace_dlg_replace_all_button_pressed): fixed part of bug #100818 -
	Find Next should be greyed out if no previous find action has been 
	performed

	* dialogs/gedit-dialog-goto-line.c: enable the Go To Line button
	only if the entry contains text

	* gedit-ui.xml: set accell for the Go to Line verb (bug #100818)

2003-04-16  Jordi Mallach  <jordi@sindominio.net>

	* dialogs/gedit-dialog-replace.c
	(replace_dlg_replace_all_button_pressed): corrected typo.

2003-04-15  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi.c (gedit_mdi_add_open_button)
	(gedit_mdi_app_created_handler): partially fixes bug #102543 (patch by 
	Christian Neumair <chris@gnome-de.org>)

2003-04-15  Paolo Maggi  <paolo.maggi@polito.it>

	Added support for syntax highlighting

	* Makefile.am: use .la libs
	(APP_H_FILES): removed gedit-undo-manager.h
	(gedit_SOURCES): removed gedit-undo-manager.c

	* gedit-undo-manager.[ch]: removed

	* gedit-document.[ch]: GeditDocument now inherits from GtkSoureBuffer 

	* gedit-mdi.c (gedit_window_prefs_save): fixed a cut and paste bug
	
	* gedit-prefs-manager-app.c (gedit_prefs_manager_auto_indent_changed)
	(gedit_prefs_manager_undo_changed): new functions
	(gedit_prefs_manager_tabs_size_changed): manages insert_spaces too

	* gedit-view.[ch]: cleaned up to use GtkSourceView instead of 
	GtkTextView
	(gedit_view_set_insert_spaces_instead_of_tabs):
	(gedit_view_set_auto_indent):
	(gedit_view_show_line_numbers): new functions

	* dialogs/Makefile.am:
	* recent-files/Makefile.am: create a .la lib instead of a .a lib

2003-04-14  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* Makefile.am: Create libgedit.la instead of libgedit.a because
	the viewer uses .la as well and linking with a .a file is not portable.

2003-04-09  Paolo Maggi  <paolo.maggi@polito.it>

	* Makefile.am: create a non-installed libgedit.a lib (it will be used
	 by the nautilus viewer by Jeroen)

	* gedit-prefs-manager-app.[ch]
	* gedit-prefs-manager-private.h: new files

	* gedit-prefs-manager.[ch]: moved all the functions calling functions
	outside libgedit.a to gedit-prefs-manager-app.[ch]. Moved the definition
	of GeditPrefsManager to gedit-prefs-manager-private.h

	* gedit-convert.[ch]: new files

	* gedit-utils.[ch] (gedit_utils_convert_to_utf8)
	(gedit_utils_convert_to_utf8_from_charset): moved to gedit-convert.[ch]

	* gedit-document.c: include gedit-convert.h and use gedit-prefs-manager-app.h 
	instead of gedit-prefs-manager.h

	* gedit-file.c: include gedit-prefs-manager-app.h instead of gedit-prefs-manager.h
	(gedit_file_exit): call gedit_prefs_manager_app_shutdown instead of 
	gedit_prefs_manager_shutdown

	* gedit-mdi.c: include gedit-prefs-manager-app.h instead of gedit-prefs-manager.h
	* gedit-view.c: ditto

	* gedit2.c: include gedit-convert.h and use gedit-prefs-manager-app.h 
	instead of gedit-prefs-manager.h
	(gedit_handle_automation_cmdline): call gedit_convert_to_utf8 instead of
	gedit_utils_convert_to_utf8
	(main): gedit_prefs_manager_app_init instead of gedit_prefs_manager_init

	* dialogs/gedit-preferences-dialog.c: include gedit-prefs-manager-app.h instead 
	of gedit-prefs-manager.h

	* recent-files/egg-recent-model.c: Update to latest libegg recent-files code

2003-03-09  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-undo-manager.c (gedit_undo_manager_get_type): fixed a 
	cut and paste bug (s/GeditDocument/GeditUndoManager/)

	* dialogs/gedit-preferences-dialog.c: use the application font
	size for the font in the font pickers (fix bug #106471)
	(get_desktop_default_font_size): new function

2003-03-04  Hidetoshi Tajima  <hidetoshi.tajima@sun.com>

	* gedit-encodings.c: use ISO-2022-JP/ISO-2022-KR instead
	of ISO2022JP/ISO2022KR. Fixes #107491.

2003-03-03  James Willcox  <jwillcox@gnome.org>

	* gedit-mdi.c: (gedit_mdi_add_open_button):

	Use bonobo_ui_component_widget_set() here, so some theme issues
	are worked out.  Fixes #106456.

2003-03-03  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-encodings.c: removed unused commented code (fix bug #106677 too)

	* gedit-ui.xml: don't add "Dump XML" and "Dump the UI Xml description" to
	the .po files (fix bug #104940)

	* dialogs/program-location-dialog.glade2: fix bug #107168 (title string 
	not localized from plugin manager browsing dlg)

2003-03-03  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-utils.c: #include <sys/time.h>, patch by 
	Jim McElwaine <jnm11@amtp.cam.ac.uk> (fix bug #105416)

	(gedit_utils_flash): don't update UI (it fixes a crash
	when you save a big file and immediately quit gedit, it should also fix
	bug #98798 <crash on close [gedit_document_save_as]>

2003-02-25  James Willcox  <jwillcox@gnome.org>

	* recent-files/Makefile.am: Install headers in gedit/recent-files instead of gedit/

2003-02-11  Pasupathi Duraisamy <pasupathi.duraisamy@wipro.com>

	* src/dialogs/plugin-manager.glade2: Removed mnemonics for
	the tab names Description and Details.
	Fixes Bug #105721.

2003-02-01  James Willcox  <jwillcox@gnome.org>

	* src/recent-files/egg-recent-model.c: (egg_recent_model_read),
	(egg_recent_model_changed):

	Update to latest libegg recent-files code.

2003-01-27  Paolo Maggi <paolo.maggi@polito.it>

	* *.c:
	* dialogs/*.c: make sure to include <config.h>

	* dialogs/gedit-preferences-dialog.c: remove COLUMN_INDEX
	(add_enc_to_list): comment unused code
	(create_encodings_treeview_model): mem leak
	(gedit_preferences_dialog_encodings_treeview_selection_changed):
	manage the case in which selected == FALSE
	(gedit_preferences_dialog_up_enc_button_clicked): code cleanup
	(gedit_preferences_dialog_down_enc_button_clicked): ditto
	(gedit_preferences_dialog_add_encoding): remove COLUMN_INDEX column
	(gedit_preferences_dialog_add_encodings): unselect all items

2003-01-21  James Willcox  <jwillcox@gnome.org>

	* gedit-mdi-child.c: (set_tab_icon): Allow svg icons
	* recent-files/*:  Update to latest from libegg

2003-01-21  Paolo Maggi <paolo.maggi@polito.it>

	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog):
	don't pass dialog when connecting "insert_text"

2003-01-15  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-commands.c (gedit_cmd_help_about): updated about 
	box

	* dialogs/gedit-preferences-dialog.c (gedit_preferences_dialog_init)
	(gedit_preferences_dialog_finalize)
	(gedit_preferences_dialog_setup_font_and_)
	(gedit_preferences_dialog_setup_print_fon): fixed mem leaks

2003-01-14  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-document.c (gedit_document_finalize):
	free document->priv->encoding
	(gedit_document_save_as_real): don't leak chars and
	bak_ext

	* gedit-output-window.c: don't leak tooltips

2003-01-09  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-view.c (gedit_view_key_press_cb): call 
	gedit_prefs_manager_get_auto_indent and
	gedit_prefs_manager_get_insert_spaces only when needed.
	Return FALSE if the event is not managed 
	(this fixes bug #102619).

2003-01-10  James Willcox  <jwillcox@gnome.org>

	Updated to latest recent-files code (fixes memory leak)

2003-01-06  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-view.c (gedit_view_doc_changed_handler):
	  check if w != NULL;

2003-01-05  James Willcox  <jwillcox@gnome.org>

	* gedit-mdi-child.c: (set_tab_icon):  Adapt to API change
	* recent-files/*:  Update to latest from libegg

	Fix icon sizes for recent-files menus and document tabs.

2003-01-04  James Willcox  <jwillcox@gnome.org>

	* recent-files/Makefile.am:
	* recent-files/egg-recent-item.c: (egg_recent_item_set_uri),
	(egg_recent_item_get_uri_for_display):
	* recent-files/egg-recent-model.c: (egg_recent_model_update_item),
	(egg_recent_model_filter):
	* recent-files/egg-recent-view-bonobo.c:
	(egg_recent_view_bonobo_set_model), (egg_recent_view_bonobo_init):
	* recent-files/egg-recent-view-gtk.c:
	(egg_recent_view_gtk_set_model), (egg_recent_view_gtk_init):

	Update to latest recent-files stuff in libegg.  This fixes a crasher
	bug.

2003-01-03  James Willcox  <jwillcox@gnome.org>

	* gedit2.c: (gedit_handle_automation_cmdline):

	Tell the startup-notification stuff that we are all done.

2003-01-02  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-plugins-engine.c: fixed bug #102343 (Plugins changes 
	made in one head are not reflected on the other head)
	(gedit_plugins_engine_active_plugins_changed): new function
	(gedit_plugins_engine_init): add a listener for changes
	in the GEDIT_PLUGINS_ENGINE_BASE_KEY dir
	
	Fixed a bug with gconf keys computation

2003-01-02  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-print.c: fixed bug #97806 (printer configuration/settings 
	should be remembered)

	* gedit-output-window.c: improved key navigability

2002-12-30  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-view.c: fixed bug #81401

2002-12-29  Paolo Maggi <paolo.maggi@polito.it>

	* gedit-prefs-manager.c: s/Mononospace/Monospace Regular
	s/Sans Normal/Sans Regular

	* dialogs/gnome-print-font-picker.c: s/sans/Sans Regular

2002-12-28  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-encodings.c: added ISO-8859-2 to the list of 
	supported encodings (patch by 
	Marcin Malinowski <malinx@friko5.onet.pl>)

2002-12-25  Christian Neumair  <chris@gnome-de.org>

	* gedit-commands.c: Revamped about dialog (#101646).

2002-12-17  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-utils.c (g_utf8_strcasestr): use strncmp instead of
	memcmp
	(g_utf8_caselessnmatch): ditto
	(lines_match): fix a cut and paste bug

2002-12-16  Paolo Maggi  <paolo.maggi@polito.it>

	* dialogs/gedit-preferences-dialog.c 
	(gedit_preferences_dialog_wrap_lines_chec): s/GTK_WRAP_CHAR/GTK_WRAP_WORD

	* dialogs/gedit-preferences.glade2: fix Print/Page page according to
	ui-review

2002-12-16  Kaushal Kumar  <kaushal.kumar@wipro.com>

	* gedit-print.c: Fixed the word-wrap problem (bug#99273). 
	Character-wrap and wrap-none features kept unaltered.

2002-12-15  Paolo Maggi  <paolo.maggi@polito.it>
	
	* gedit-viewc.c (gedit_view_grab_focus): don't modify GtkTextView 
	readonly field disable_scroll_on_focus

	* dialogs/gedit-dialog-replace.c : escape text before inserting in the 
	search or replace entry
	(insert_text_handler)(escape_search_text): new functions

2002-12-15  Adam Ritter  <adam@xiphias.cjb.net>

	* dialogs/gedit-dialog-replace.c (gedit_dialog_find):
	* dialogs/gedit-dialog-replace.c (gedit_dialog_replace):

	After selecting a word and trying to find/replace
	the selected word is in the corresponding dialog. (Bug #100340)

2002-12-15  Chema Celorio  <chema@celorio.com>

	* gedit-print.c: don't define gnome-print declarations here

2002-12-09  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-mdi-child.c (gedit_mdi_child_real_state_changed):
	s/RO - docname/docname - RO

	* gedit-view.c (gedit_view_update_cursor_position_statusbar): fix 	
	bug #95330 ("Col." status counts characters instead of columns)

	* dialogs/gedit-preferences-dialog.c: the Load category is now 
	called Open

	* dialogs/gedit-preferences.glade2: ui-review related fixes


2002-12-09  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-commands.c:
	* gedit-view.c: 
	* gedit-undo-manager.c: fixed bug #99249 (Undo and redo should move 
	the document display to the part being altered)
	
	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog): 
	fixed according	to ui-review

	* gedit-prefs-manager.c: replace g_assert with g_return[_val]_if_fail

2002-12-09  Paolo Maggi  <paolo.maggi@polito.it>

	* gedit-ui.xml: added a shortcut (ctrl+L) to the Open Location menu entry,
	removed icon from the Open Location menu entry, s/Preferences.../Preferences,
	s/Goto line/Go to Line Number..., s/Find/Find..., s/Replace/Replace...
	
	* gedit-mdi.c (gedit_mdi_app_created_handler): removed icons from the recently
	used file list

	* dialogs/gedit-dialog-uri.c (dialog_open_uri_get_dialog): s/Open from URI/
	Open Location in the window title

2002-12-05  James Willcox  <jwillcox@gnome.org>

	* gedit-utils.c: (gedit_utils_get_stdin):

	Use select() to see if stuff is available for reading instead of
	fstat().  This should be more reliable.

2002-12-04  James Willcox  <jwillcox@gnome.org>

	* dialogs/gedit-dialog-goto-line.c: (dialog_goto_line_get_dialog):
	* dialogs/gedit-encodings-dialog.c: (get_encodings_dialog):
	* dialogs/gedit-plugin-program-location-dialog.c:
	(gedit_plugin_program_location_dialog):

	Fix some string stuff to make it easier on translators.  (Bug #99660)

2002-12-04  Paolo Maggi <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_documents_move_to_new_window): new function

	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity): set the sensitivity
	of DocumentsMoveToNewWindow verb

	* gedit-menus.c: added DocumentsMoveToNewWindow to gedit_verbs and 
	gedit_menus_no_docs_sensible_verb

	* gedit-ui.xml: added a "Move to New Window" item to the Documents menu
	
2002-12-03  Paolo Maggi <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED): removed
	(gedit_cmd_search_find_again): fixed to support "wrap around"

	* gedit-document.c (gedit_document_find): fix a bug in the case
	you are searching an entire word 
	(gedit_document_find_again): added a from cursor parameter

	* gedit-document.h (gedit_document_find_again): ditto

	* gedit2.h (GBOOLEAN_TO_POINTER)(GPOINTER_TO_BOOLEAN): #defined

	* dialogs/gedit-dialogs.h (gedit_was_wrap_around_quark): new function

	* dialogs/gedit-dialog-replace.c: fixed according to ui-review

	* dialogs/replace.glade2: ditto

2002-12-03  Paolo Maggi <maggi@athena.polito.it>

	* gedit-plugins-engine.c (gedit_plugins_engine_load): free 
	gedit_plugin_file (fix bug #100021, thanks to Kjartan Maraas
	and Martin Hostettler for the patch)

2002-11-28  Paolo Maggi <maggi@athena.polito.it>

	* gedit-plugins-engine.c (gedit_plugins_engine_activate_plugin)
	(gedit_plugins_engine_reactivate_all): initialize r to PLUGIN_OK

	* gedit-mdi-child.c (gedit_mdi_child_set_label): fix tooltips and
	context menu

	bonobo-mdi.c: fix drag and drop of tabs

2002-11-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c:
	* dialogs/gedit-plugin-program-location-dialog.c: fixed bug #99670

2002-11-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-view.c: set tab size when the widget is realized (fix 
	bug #98958)

2002-11-26  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi-child.[ch] (bonobo_mdi_child_get_from_view):
	new function

	* bonobo-mdi.c (book_add_view)(child_set_label): 
	now take mdi as parameter
	(bonobo_mdi_update_child): modify the old tab_label instead of
	creating a new one 
	(bonobo_mdi_move_view_to_new_window): new method
	(bonobo_mdi_n_children_for_window): new method

	* gedit-mdi-child.c: added a context menu and an icon the the
	tab label of each child

	* gedit-prefs-manager.c (gedit_prefs_manager_editor_font_changed):
	set tab size when font changes


2002-11-21  Paolo Maggi <maggi@athena.polito.it>

	* gedit-plugins-engine.[ch]: much improved plugin engine (load
	plugins only when activated)

2002-11-10  Paolo Maggi <maggi@athena.polito.it>

	* gedit-mdi-child.c (gedit_mdi_child_set_label): display
	the document uri in a tooltip when the mouse is over a tab

2002-11-07  Mark McLoughlin  <mark@skynet.ie>

	* gedit-application-server.[ch]: (gedit_application_server_new):
	Register a new factory per-screen. A lot easier than implementing
	multiscreen support :-) Fixes #91976.

	* gedit2.c: (main): upd.

2002-11-07  Andrew Sobala  <andrew@sobala.net>

	* gedit-view.c: (gedit_view_line_numbers_expose): code to handle
	zero-length files. Fixes: 97484

2002-11-02  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi.c: fixed Documents menu

2002-11-01  Paolo Maggi <maggi@athena.polito.it>

	Sync recent-files with libegg

2002-11-01  Jody Goldberg <jody@gnome.org>

	* gedit-print.c : handle updated api

2002-10-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-output-window.[ch]: new files

	* Makefile.am (gedit_SOURCES): added gedit-output-window.[ch]

	* bonobo-mdi.[ch] (bonobo_mdi_set_bottom_pane_for_window)
	(bonobo_mdi_get_bottom_pane_for_window): new functions to manage
	bottom panes

	* gedit-encodings.c (encodings): s/SHIFT-JIS/"SHIFT_JIS

	* gedit-file.c (gedit_file_save_as): set active view 

	* gedit-mdi.[ch] (gedit_mdi_get_output_window_from_window):
	new function

	* gedit-mdi.c: added support for GEDIT_TOOLBAR_ICONS_BOTH_HORIZ,
	added bottom pane

	* gedit-prefs-manager.[ch]: support GEDIT_TOOLBAR_ICONS_BOTH_HORIZ

	* gedit-ui.xml: set Ctrl+L as accellerator for Save All, set priority=1
	for FileOpen, FileSave and FileUndo

2002-10-15  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-dialog-replace.c:
	* dialogs/replace.glade2: use GnomeEntry instead of GtkEntry in the
	search/replace dialogs

2002-10-14  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file-selector-util.c (replace_dialog): use a stock "Cancel" 
	button instead 	of the "Don't Replace" one (thanks to Matt Brubeck for
	the patch)

2002-10-14  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_save_as_real): add \n to end
	of file if needed (fix bug #95676)

	Partially fixed bug #87172

	* gedit-file.[ch] (gedit_file_save): added a force parameter
	(gedit_file_save_all): don't check if file is modified before 
	calling gedit_file_save

	* gedit-menus.c: removed /commands/FileSave from 
	gedit_menus_not_modified_doc_sensible_verbs

	* gedit-commands.c (gedit_cmd_file_save):
	* gedit-mdi.c (gedit_mdi_remove_child_handler): use the new
	gedit_file_save function

	* dialogs/gedit-preferences-dialog.c:
	* dialogs/gedit-preferences.glade2: improve Wrap Mode page usability
	(partially fix bug #82710)

	* gedit-mdi.c (gedit_mdi_add_view_handler): now you can drop files 
	in main text area (fixed bug #89881)

2002-10-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_key_press_cb)(compute_indentation):
	implemented "auto indent" and "insert spaces instead of tabs"

	* dialog/gedit-preferences-dialog.c:
	* dialog/gedit-preferences.glade2: new "auto indent" page + a lot of cosmetic
	changes (i.e. I have removed the description text in all the pages)

	* bonobo-mdi.[ch] (bonobo_mdi_destroy): new function to destroy all the toplevel
	windows
	(bonobo_mdi_finalize): don't call bonobo_mdi_remove_all

	* gedit-file.c (gedit_file_exit): destroy the active window before quitting

	* gedit-prefs-manager.[ch]: added functions for the new "insert_spaces" and 
	"auto_indents" key

2002-10-07  James Willcox  <jwillcox@gnome.org>

	* gedit-file.c: (gedit_file_open_real), (gedit_file_save),
	(gedit_file_save_as_real):  Add the "gedit" group to recent items.
	* gedit-recent.c: (gedit_recent_init):  filter by group instead of
	mime type
	* recent-files/*:  sync up with libegg

2002-10-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_find)(gedit_document_replace_all):	
	added the entire_word parameter
	
	* dialogs/replace.glade2: cosmetic changes

	* dialogs/gedit-dialog-replace.c: use the new find/replace dialog

2002-10-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_load)(gedit_document_load_from_stdin):
	don't convert to utf8 data if the are already utf8, fix a mem leak,
	always pass the right len to gtk_text_buffer_insert

	* gedit2.c (gedit_handle_automation_cmdline): don't convert to utf8 data if 
	they are already utf8, fix a mem leak,

	* gedit-utils.c (gedit_utils_convert_to_utf8): don't accept utf8 data,
	if encoding_used == NULL don't return the used encoding, fix a mem leak

2002-10-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-marshal.list: added VOID:OBJECT

	* gedit-menus.[ch] (gedit_menus_add_submenu)(gedit_menus_add_submenu_all)
	(gedit_menus_remove_submenu)(gedit_menus_remove_submenu_all): new functions

	* gedit-view.[ch]: new "populate_popup" signal
	(button_press_event): new function
	(gedit_view_get_gtk_text_view): new function

2002-10-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_line_numbers_expose): don't stop emission

	* dialogs/gedit-preferences-dialog.c (gedit_preferences_dialog_remove_enc_butt):
	select the item folllowing the removed item
	(gedit_preferences_dialog_encodings_treeview_selection_changed): focus buttons in
	the right way
	(gedit_preferences_dialog_up_enc_button_clicked): new function
	(gedit_preferences_dialog_down_enc_button_clicked): new function

2002-10-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch]: removed old unused stuff related to tags
	(the old non-editable tag)

	* gedit-prefs-manager.c (gedit_prefs_manager_get_encodings):
	can return an empty list
	(gedit_prefs_manager_set_encodings): implemented

	* gedit-utils.c (gedit_utils_convert_to_utf8): manage wrong locales

	* dialogs/gedit-preferences-dialog.[ch] (gedit_preferences_dialog_add_encodings): 
	new function

	* dialogs/gedit-encodings-dialog.c (add_button_pressed): fixed to
	use the new function gedit_preferences_dialog_add_encodings

2002-10-01  James Willcox  <jwillcox@gnome.org>

	* gedit-prefs-manager.c:
	* gedit-prefs-manager.h:
	* gedit-utils.c: (gedit_utils_convert_to_utf8):

	Cleanup, and sync recent-files with libegg

2002-09-30  James Willcox  <jwillcox@gnome.org>

	* recent-files/*:  sync up with libegg
	* recent-files/egg-recent-view-gtk.[ch]:  New files (forgot to add
	them last time)

2002-09-30  James Willcox  <jwillcox@gnome.org>

	* gedit-document.c: (gedit_document_load),
	(gedit_document_load_from_stdin):
	* gedit-utils.c: (gedit_utils_convert_to_utf8_from_charset),
	(gedit_utils_convert_to_utf8):  Use the gedit-encodings mechanism to
	try converting from all encodings the user wishes.
	* gedit-utils.h:
	* gedit2.c: (gedit_handle_automation_cmdline):  Fixes #88213
	* gedit-mdi.c:  Add a nifty little dropdown box containing a recently-
	used menu beside the Open button on the toolbar.

2002-09-27  James Willcox  <jwillcox@gnome.org>
	
	Sync up to latest recent-files code.

	* gedit-mdi.c: (gedit_mdi_app_created_handler):  Show icons for the
	recent files.
	* gedit-recent.c: (gedit_recent_init):  Adjust for API changes.

	* gnome-recent-marshal.list:  Remove a bunch of cruft
	* gnome-recent-model.c:
	* gnome-recent-model.h:
	* gnome-recent-util.c:
	* gnome-recent-util.h:
	* gnome-recent-view-bonobo.c:
	* gnome-recent-view-bonobo.h:
	* gnome-recent-view.c:
	* gnome-recent-view.h:

2002-09-22  James Willcox  <jwillcox@gnome.org>

	* gedit-debug.c: (gedit_debug):
	* gedit-debug.h: Added DEBUG_UTILS

	* gedit-document.c: (gedit_document_load),
	(gedit_document_load_from_stdin): Use the functions in gedit-utils.c

	* gedit-utils.c: (gedit_utils_get_stdin),
	(gedit_utils_convert_to_utf8), (gedit_utils_convert_to_utf8_blah):
	* gedit-utils.h:  New functions

	* gedit2.c: (gedit_handle_automation_cmdline):  Insert data from
	stdin into an existing instance.

2002-09-20  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugins-engine.c (gedit_plugins_engine_load_dir): 
	use G_MODULE_SUFFIX, instead of the hardcoded string ".so"
	(fix bug #93765, thanks to Benjamin Thery)

2002-09-18  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c (gedit_document_save_as_real): Oops, use errno
	if we tried to rename the file.

2002-09-17  James Willcox  <jwillcox@gnome.org>

	* Sync up recent-files stuff.  Hopefully this fixes issues with
	non-UTF-8 filenames.

2002-09-17  Matt Brubeck <mbrubeck@cs.hmc.edu>
	
	* gedit-document.c (gedit_document_save_as_real): Use umask(2) 
	to calculate permissions for new files (fixes bug #93303)

2002-09-16  James Willcox  <jwillcox@gnome.org>

	Converted to recent-files stuff from libegg

	* Makefile.am:
	* dialogs/gedit-dialog-uri.c:
	* gedit-file.c: (gedit_file_open_real), (gedit_file_save),
	(gedit_file_save_as_real), (gedit_file_open_recent):
	* gedit-file.h:
	* gedit-mdi.c: (gedit_mdi_app_created_handler),
	(gedit_mdi_get_recent_view_from_window):
	* gedit-mdi.h:
	* gedit-recent.c: (gedit_recent_init):
	* gedit-recent.h:
	* recent-files/*.[ch]:  New stuff, recent-files code from libegg

2002-09-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: show the Tools menu

2002-09-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_set_last_replace_text)
	(gedit_document_set_last_searched_text): new functions

2002-09-09  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c (add_enc_to_list)(update_encodings_list)
	(gedit_preferences_dialog_remove_enc_button_clicked)
	(gedit_preferences_dialog_encodings_treeview_selection_changed): new functions

2002-09-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_edit_select_all): use gedit_document_set_selection
	instead of gedit_view_select_all

	* gedit-document.[ch] (gedit_document_get_buffer)(gedit_document_delete_all_text)
	(gedit_document_get_selected_text)(gedit_document_has_selected_text): removed
	(gedit_document_set_selection)(gedit_document_get_selection): new functions
	
	* gedit-mdi.c (gedit_mdi_init): set the correct child list path

	* gedit-prefs-manager.c: Courier->Monospace, Helvetica->Sans Normal
	(fix bug #88076)
	(gedit_prefs_manager_get_default_print_font_*): new functions
	
	* dialogs/gedit-preferences-dialog.c: ditto

	* gedit-print.c: use the new gedit-document API

	* dialogs/gedit-dialog-replace.c: ditto

	* gedit-ui.xml: updated to be HIG compliant

	* gedit-view.[ch] (gedit_view_select_all): removed


2002-09-05  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-encodings-dialog.c:
	* dialogs/gedit-preferences-dialog.c: now the add button in the load setting page works

2002-09-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c: clean a bit the dnd code

	* gedit-view.c (gedit_view_dnd_drop): new function
	Now you can drag a color in the gedit view to get its hex RGB value

2002-09-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs-manager.[ch] (gedit_prefs_manager_save_window_size_and_state): new
	function

	* gedit-mdi.c (gedit_mdi_app_destroy_handler): use gedit_prefs_manager_save_window_size_and_state
	(gedit_window_prefs_save): check if the prefs can be set before setting them

	* gedit-file.c (gedit_file_exit): save the active window size and state if needed. Fixes
	bug #90986

2002-09-05  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c (app_close_book): give focus to the window before closing it.
	(toplevel_focus): returns immediately if win == active_window
	
	Fixes bug #92376
	
2002-09-03  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c: Preserve the group of the parent directory if
	the S_ISGID flag is set.  Fixes #88699.

2002-08-30  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-encodings-dialog.c:
	* dialogs/gedit-encodings-dialog.h:
	* dialogs/gedit-encodings-dialog.glade2: new files

	* dialogs/gedit-preferences-dialog.c (gedit_preferences_dialog_add_enc_button_clicked): 
	new function

2002-08-30  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-encodings.[ch]: new files

	* Makefile.am: compile gedit-encodings.[ch]

	* gedit-prefs-manager.[ch] (gedit_prefs_manager_get_encodings)
	(gedit_prefs_manager_set_encodings)(gedit_prefs_manager_encodings_can_set):
	new functions

	* dialogs/gedit-preferences-dialog.c (create_encodings_treeview_model)
	(gedit_preferences_dialog_setup_load_page): new functions

2002-08-30  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi-child.[ch]: added a view parameter to 
	bonobo_mdi_child_set_label 

	* bonobo-mdi.c: ditto

	* gedit-commands.c (gedit_cmd_help_about): use the new logo

	* gedit-mdi-child.c (gedit_mdi_child_set_label)(gedit_mdi_child_tab_close_clicked): 
	added a close button to the tab label 
	(thanks to James Willcox for the initial patch)

	* gedit-ui.xml: removed the close button from the toolbar
	
	* dialogs/gedit-preferences-dialog.c: updated for HIG compliance, added a load tab
	
	* dialogs/gedit-preferences.glade2: ditto

2002-08-28  Paolo Maggi  <maggi@athena.polito.it>

	Fix bug #91791

	* gedit-undo-manager.c (GeditUndoActionType): added a comma at the
	end of the enums

	* gnome-recent-model.c: added a comma after PROP_LIMIT

2002-08-26  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-debug.c (gedit_debug): do not perform varargs processing 
	when debug flags are not set

	* gedit-undo-manager.c (gedit_undo_manager_get_number_of_groups): 
	removed, uses num_of_groups variables to count the number of groups.
	This should improve "replace all" performance on big files 
	(bug #68720)

	Thanks to Mukund <mukund.rajagopalan@wipro.com> for the patches

2002-08-24  James Willcox  <jwillcox@gnome.org>

	* GNOME_Gedit.idl:  Added "insert", "delete" "getCharCount", and
	"getChars" methods.  Also added the DocumentReadOnly exception.

	* gedit-document-server.c:  Implemented said methods.

2002-08-24  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_revert_dialog): new function
	(gedit_file_revert): ask the user if she really wants to revert the file
	
	* geduit-undo-manager.c 
	(gedit_undo_manager_end_not_undoable_action_internal): new function
	(gedit_undo_manager_end_not_undoable_action): reset actions list

2002-08-16  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_save_as): fixed bug #90879 (thanks to
	Owen Taylor for the patch)

2002-08-16  Federico Mena Quintero  <federico@ximian.com>

	Fixes part of #90133.

	* gedit-mdi.c (gedit_mdi_app_created_handler): Only restore the
	state/size of windows if the session is not being restored.

	* bonobo-mdi-session.c (bonobo_mdi_restore_state): Turn the
	restoring state of the MDI on/off as appropriate.

	* bonobo-mdi.c (bonobo_mdi_set_restoring_state): New function.
	(bonobo_mdi_get_restoring_state): New function.
	(app_clone): Only set the default size of the window if the
	session is not being restored.
	(app_create): Likewise.

2002-08-16  Federico Mena Quintero  <federico@ximian.com>

	* gedit-file.c (gedit_file_save): Also call gtk_window_present() here.
	(gedit_file_save_all): Likewise.
	(gedit_file_open_uri_list): Likewise.

	* gedit-mdi.c (gedit_mdi_remove_child_handler): Likewise.

2002-08-15  Federico Mena Quintero  <federico@ximian.com>

	* dialogs/gedit-preferences.glade2: Changed the ATK descriptions
	for the widgets that have duplicated labels, to make them more
	clear.  Fixes part of #90279.

2002-08-15  Federico Mena Quintero  <federico@ximian.com>

	Fixes part of #90133.

	* bonobo-mdi.c (bonobo_mdi_set_active_view): Do not call
	gtk_window_present(); it is better to do this case-by-case like
	when setting the active view from a menu.  Calling present() on
	every window will screw up session management as we don't want to
	change the stacking order or virtual desktop that the window
	manager will give us.
	(child_list_activated_cb): Do call gtk_window_present() here.

2002-08-14  Federico Mena Quintero  <federico@ximian.com>

	* dialogs/gedit-plugin-manager.c (plugin_manager_construct_tree):
	Install a custom search equal function for our non-string column.
	Fixes the treeview part of #90280.

2002-08-13  Federico Mena Quintero  <federico@ximian.com>

	Fixes #90231.

	* gedit-file-selector-util.c (ok_clicked_cb): Test whether the
	file is read-only and present a confirmation dialog in that case.
	(replace_read_only_file): New function.
	(replace_existing_file): Use the replace_dialog() core.
	(replace_dialog): Moved the replace_existing_file() code to here
	and made it more generic.

	* gedit-document.c (gedit_document_save_as): Tell
	gedit_document_save_as_real() to create a backup file.

	* gedit-file.c (gedit_file_open_uri_list):
	gtk_message_dialog_new() takes a printf() format, so don't compose
	the string first - it may contain percent signs which will screw
	us here.

	* gedit-print.c (gedit_print_error_dialog): Likewise.

2002-07-25  Paolo Maggi  <maggi@athena.polito.it>

	* gnome-recent-model.c (gnome_recent_model_add): free canonical_uri

	* gnome-recent-view-bonobo.c (gnome_recent_view_bonobo_set_list):
	fix appname

2002-07-23  Paolo Maggi  <maggi@athena.polito.it>

	Now gedit should work well with broken utf8 filenames.
	
	Modified files:
	* gedit-file.c
	* gnome-recent-model.c
	* gnome-recent-view-bonobo.c
	* gedit-document.c
	* gedit-utils.c
	* bonobo-mdi.c
	* gedit-file-selector-util.c

2002-07-23  James Willcox  <jwillcox@cs.indiana.edu>

	* gnome-recent-model.c:  Convert URIs to utf8 on the way in,
	convert back to the C library representation on the way out.

	* gnome-recent-view-bonobo.c (gnome_recent_view_bonobo_set_list):
	Escape relevant parts of the XML.  (#88362)

2002-07-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_open_uri_list): fix typo

2002-07-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.c (gedit_utils_convert_search_text): fixed to work
	with utf8 chars in the proper way (fixed bug #88660 and #88661)

2002-07-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs-manager.c: use gnome-config instead of gconf to manage
	window size and state

2002-07-16  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_open_uri_list): if a file does not exists
	and create == TRUE, create it (fixed bug #77557)

	* gedit-utils.[ch] (gedit_utils_error_reporting_creating_file): new
	function

2002-07-16  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch] (gedit_utils_create_empty_file): new function

	* gedit-file.c (gedit_file_open_uri_list): return FALSE if no file
	is loaded

	* gedit2.c (gedit_load_file_list): read stdin even if data == NULL
	(bug #88213 partially fixed)

	* gedit-document.c (gedit_document_load_from_stdin): convert input
	from locale encoding to utf8 if needed

	* gedit-commands.c (gedit_cmd_help_about): fix bug #88269

2002-07-15  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-utils.[ch] (gedit_utils_convert_search_text):  Converts
	things like "\n" into special characters.  Also, corrected
	g_uft8_caselessnmatch() to g_utf8_caselessnmatch() and fixed
	all references to the misspelled version.

	* gedit-document.[ch]:  search using the converted string

	* dialogs/gedit-dialog-replace.c
	(replace_dlg_replace_button_pressed):  Compare to the converted
	string to the selected text, instead of the user-specified string.

2002-07-15  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fixed bug #88019

	* dialogs/gedit-preferences.glade2: s/S_elected text color/
	Selecte_d text color (fixed bug #88018)

	*dialogs/plugin-manager.glade2: s/D_etails/De_tails (fixed bug #88018)

2002-07-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch] (gedit_utils_uri_exists): new functions

	* gedit-mdi.c (gedit_mdi_remove_child_handler):  Check to see if
        the file has been deleted from the filesystem before closing 
	(fixed bug #75861).

	* gedit-file.c (gedit_file_save): Save the file if it has 
	been deleted from the filesystem ((fixed bug #75861).

2002-07-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs-manager.[ch]:
	s/GEDIT_SAVE_CURRENT_LOCALE_WHEN_POSSIBLE/GEDIT_SAVE_CURRENT_LOCALE_IF_POSSIBLE,
	added GEDIT_SAVE_ORIGINAL_FILE_ENCODING_IF_POSSIBLE_NCL description
	
	* dialogs/gedit-preferences-dialog.c: added a "When creating a new file..." 
	frame in the Save page

	* dialogs/gedit-preferences.glade2: ditto

	* gedit-document.c (gedit_save_as_real): when requested	save the 
	file using the original encoding 

2002-07-09  Paolo Maggi  <maggi@athena.polito.it>

	The "Plugin Manager" is now a page in the "Preferences" dialog

	* dialogs/gedit-plugin-manager.h: new file
	* dialogs/gedit-dialog-plugin-manager.c -> gedit-plugin-manager.c

	* dialogs/Makefile.am (libdialogs_a_SOURCES): added 
	gedit-plugin-manager.[ch], removed gedit-dialog-plugin-manager.c
	
	* gedit-commands.[ch] (gedit_cmd_tools_plugin_manager): deleted

	* gedit-menus.c (gedit_verbs): removed the PluginsManager entry

	* gedit-ui.xml: removed the "Plugin Manager" menu item

	* dialogs/gedit-dialogs.h (gedit_dialog_plugin_manager): removed

	* dialogs/gedit-preferences-dialog.c: removed unused code, added the 
	"Plugin Manager" page

	* dialogs/gedit-preferences.glade2: cleaned up

	* dialogs/plugin-manager.glade2: cleaned up

2002-07-08  Paolo Maggi  <maggi@athena.polito.it>

	* .cvsignore: Updated

2002-07-08  Paolo Maggi <maggi@athena.polito.it>

	* Makefile.am: create a gnome-text-editor symbolic link
	to gedit
	
	* gedit2.c (main): set the GNOME_PARAM_HUMAN_READABLE_NAME
	paramater to "Text Editor"

2002-07-05  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #76001

	* bonobo-mdi.[ch]: added a "top_window_destroy"
	signal
	(bonobo_mdi_new)(bonobo_mdi_construct): take the default
	size of the toplevel windows as parameter
	(app_clone): clone the window size and state
	
	* gedit-mdi.c (gedit_mdi_app_destroy_handler): new function for
	saving the size and state if the destroyed window
	(gedit_mdi_app_created_handler): set window size and state

	* gedit-prefs-manager.[ch]: added functions to set and get
	the window size and state

2002-07-04  James Willcox <jwillcox@cs.indiana.edu>

	* gedit-document.c (gedit_document_load):
	Set the GError back to NULL after freeing it.

2002-07-04  James Willcox <jwillcox@cs.indiana.edu>

	* gnome-recent-view-bonobo.c (gnome_recent_view_bonobo_finalize):
	free some stuff when we get finalized.

	* gedit-mdi.c (gedit_mdi_app_created_handler):
	add a GDestroyNotify which unrefs the GnomeRecentView when the
	window is destroyed.

2002-07-04  Paolo Maggi <maggi@athena.polito.it>

	* dialogs/gedit-dialog-replace.c: fixed bug #86333

2002-07-04  Paolo Maggi <maggi@athena.polito.it>

	* gedit-document.c: save used encoding while loading a file,
	try to use "ISO-8859-15" as last resource while loading a file.
	
	* gedit-file.c (gedit_file_save_as): fix bug #87276

	* gedit-prefs-manager.c (GPM_DEFAULT_BACKUP_COPY_EXTENSION): Changed
	the default to ~.  This is also reflected in the new GConf
	schema file.

2002-07-03  Federico Mena Quintero  <federico@ximian.com>

	* gedit-prefs-manager.c (GPM_DEFAULT_CREATE_BACKUP_COPY): Changed
	the default to true.  This is also reflected in the new GConf
	schema file.

2002-07-03  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi.[ch] (bonobo_mdi_get_window_info)
	new method
	(app_clone): set the size of the new window to the
	one of the cloned one
	
2002-07-03  Paolo Maggi <maggi@athena.polito.it>

	* gnome-vfs-helpers.[ch]: removed

	* *.c: s/gnome_vfs_x/eel

2002-06-28  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-goto-line.c:  Only allow digits in the entry

2002-06-17  Federico Mena Quintero  <federico@ximian.com>

	Fixes #84986.

	* bonobo-mdi.c (gen_role): Moved over from gedit-mdi.c.
	(app_create): Added a "window_role" argument so that we can set up
	the window's role here.
	(app_clone): Likewise.
	(bonobo_mdi_open_toplevel): Likewise.
	(bonobo_mdi_add_toplevel_view): Likewise.

	* bonobo-mdi-session.c (restore_window_child): Pass the role
	argument to bonobo_mdi_add_toplevel_view().
	(restore_window): Pass the role argument to
	bonobo_mdi_open_toplevel().

	* gedit2.c (main): Likewise.

	* gedit-mdi.c (gedit_mdi_app_created_handler): Do not set the role
	here.

2002-06-14  Paolo Maggi <maggi@athena.polito.it>

	* gedit-prefs-manager.[ch]: new files

	* Makefile.am:
	* gedit-commands.c:
	* gedit-document.c:
	* gedit-file.c:
	* gedit-mdi.[ch]:
	* gedit-print.c:
	* gedit-recent.c:
	* gedit-session.c:
	* gedit-undo-manager.c:
	* gedit-view.c:
	* gedit2.c:
	* dialogs/gedit-preferences-dialog.[ch]:
	* dialogs/gedit-preferences.glade2: use gedit-prefs-manager API

2002-06-14  Paolo Maggi <maggi@athena.polito.it>

	* src/gedit-preferences.glade2: fixed a typo

2002-06-11  Federico Mena Quintero  <federico@ximian.com>

	* gedit-mdi.c (gedit_mdi_remove_child_handler):
	gtk_window_present() the confirmation dialog so that the user sees
	it even when shutting down the session.  Fixes #84677.

2002-06-05  Jagadeesh B.G  <jagadeesh.banavara@wipro.com>

	* src/dialogs/gedit-preferences.glade2: Fix some ATK relations.
	Fixes bug #84108.

2002-05-31  Federico Mena Quintero  <federico@ximian.com>

	* Makefile.am (INCLUDES): Patch by Hidetoshi Tajima
	(hidetoshi.tajima@sun.com) to fix the localedir on Solaris.  Fixes
	#83614.

2002-05-30  James Willcox <jwillcox@cs.indiana.edu>

	* bonobo-mdi.c (child_list_menu_add_item):
	Assign keyboard accelerators to items in the "Documents" menu.

2002-05-29  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi-session.c: save and restore window role

	* bonobo-mdi.c (book_button_release): use 
	gtk_window_set_default_size instead of gtk_widget_set_size_request

	* gedit-document.c (gedit_document_replace_selected_text):
	let replace be long zero chars

	*gedit-mdi.c (gen_role): new function
	(gedit_mdi_app_created_handler): set unique window role using gen_role

	* dialogs/gedit-dialog-replace.c: fix bug #83401

2002-05-28  James Willcox <jwillcox@cs.indiana.edu>
 
	* gedit-application-server.[ch], gedit-document-server.[ch],
	gedit-window-server.[ch]: new files, provides an implementation for a
	CORBA interface to gedit.
 
	* gedit2.c: added command line arguments for using the new CORBA
	interface.  Lets you open files, create new windows, etc.

2002-05-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_open): display formatted uris
	in the status bar

2002-05-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): fixed bug #82877

2002-05-27  James Willcox <jwillcox@cs.indiana.edu>

	* gnome-recent-model.c (gnome_recent_model_delete_from_list):
	Fixed memory leak (Thanks to Gustavo Giráldez for the patch)

2002-05-23  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file-selector-util.c (run_file_selector): check if data != NULL

2002-05-23  Paolo Maggi <maggi@athena.polito.it>

	* gedit-view.c: added Undo and Redo to the popup menu
	(gedit_view_init): connected the populate-popup signal and removed
	old commented code
	(gedit_view_undo_activate_callback)(gedit_view_redo_activate_callback)
	(gedit_view_populate_popup): new static functions

	Note that since I'm using stock menu items, I'm not breaking the 
	string freeze

2002-05-22  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi.c (app_close_book)(book_motion)(book_button_press)
	(book_button_release): return gboolean instead of gint
	(toplevel_focus): always returns FALSE (this fixes bug #77735)

	* gedit-view.c (gedit_view_grab_focus): removed the ack to fix
	bug #77735

	Thanks to Yogeesh MB, Federico Mena Quintero and Owen Taylor for
	their help in fixing this bug

2002-05-22  Paolo Maggi <maggi@athena.polito.it>

	* gedit-utils.c (remove_timeout_cb): set current_mi to NULL to
	fix a crash

2002-05-21  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #79205 removing the "Show Tooltips" menu item

	Modified files: gedit-ui.xml, gedit-mdi.c and gedit-prefs.[ch]

2002-05-21  Yogeesh MB  <yogeeshappa.mathighatta@wipro.com>

	* gedit-view.c (gedit_view_grab_focus): Fixed bug #77735 
	both on Solaris and Linux

2002-05-21  Federico Mena Quintero  <federico@ximian.com>
 
 	* gedit-view.c (gedit_view_init): Do not set a focus chain.  I
 	don't see how this could affect things for this bug, but it is
 	intended to fix #77735 anyways.

2002-05-21  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_save): convert filename to
	utf8 before inserting it in the list of recent files

2002-05-20  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #81878

	gedit-file-selector-util.c (run_file_selector): set 
	using_bonobo_filesel to TRUE only if dialog != NULL

	gedit-file.c: added the gedit_default_path variable
	(gedit_file_open): use and update gedit_default_path
	(gedit_file_save_as): ditto

	gnome-vfs-helpers.[ch] (gnome_vfs_x_uri_get_dirname):
	new function

2002-05-20  Paolo Maggi <maggi@athena.polito.it>
	
	gedit-ui.xml: s/About.../About
		
2002-05-15  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_save): insert a canonical uri
	in the recent list (this should fix bug #76641)

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	Added basic session management (thanks to Federico Mena Quintero
	for his initial patch and his help)

	* gedit-session.[ch], bonobo-mdi-session.[ch]: new files

	* Makefile.am: added the new files to gedit_SOURCES

	* gedit-debug.[ch]: added support for debugging session
	management related stuffs

	* gedit-document.[ch]  (gedit_document_get_raw_uri): new function

	* gedit-mdi-child.c (gedit_mdi_child_get_config_string): new function
	(implementation of the virtual function get_config_string)

	* gedit2.c (main): almost rewritten to add SM support

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	* gedit-ui.xml: added accellerator to help menu items
	(thanks to Glynn Foster)

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	gedit-file.c: Fixed bug #77834

	gedit-document.c (gedit_document_get_uri)
	(gedit_document_get_short_name): always return valid 
	UTF-8 text
	
2002-05-10  Paolo Maggi <maggi@athena.polito.it>

	* gedit-print.c: fixed bug #79733, now the default
	is to print to a printer

2002-05-09  Paolo Maggi <maggi@athena.polito.it>

	* gedit-print.c: changed the print dialog title
	to "Print"

2002-05-07  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file-selector-util.c: use a quark to
	store retval (user_data_id)

2002-05-06  Paolo Maggi <maggi@athena.polito.it>

	* gedit-mdi.c: set main window role

2002-05-06  Paolo Maggi <maggi@athena.polito.it>

	* gedit-document.c: fixed bug #80841 
	(Thanks to Mats-Ola Persson)

2002-05-03  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c (gedit_document_save_as_real): Do saving in
	the following way:

		1. Get the real filename by following all the symlinks of
		   the original filename.  This is the icky function
		   follow_symlinks().

		2. Write a temporary filename with the buffer contents.

		3. If create_backup_copy, rename the real_filename to
		   real_filename.bak.

		4. Rename the temporary filename to the real_filename.

		5. Restore file permissions and ownership.

	  It is sad that yes, the Unix API is complete and lets us do
	  this, but we must still write a bunch of code to *save a stupid
	  file*.

2002-04-30  jacob berkman  <jacob@ximian.com>

	* Makefile.am (EXTRA_DIST): add gnome-recent-marshal.list

2002-04-30  Federico Mena Quintero  <federico@ximian.com>

	* dialogs/gedit-dialog-replace.c
	(replace_dlg_replace_button_pressed): Do not pass null arguments
	for printf() formats to gedit_debug(); this will crash on
	non-glibc systems.  Should fix #78011.

2002-04-30  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: added an icon to Help->Contents

2002-04-29  Miles Lane  <miles@megapathdsl.net>

	* Add "#include <string.h>" to gnome-recent-util.c in order
	  to fix the build.  Instructed to do so by Chema.  :)

2002-04-29  James Willcox  <jwillcox@cs.indiana.edu>

	* Makefile.am:  Added a bunch of new stuff for gnome-recent (recent
	files code)
	* gnome-recent-model.[ch], gnome-recent-view.[ch],
	gnome-recent-view-bonobo.[ch], gnome-recent-util.[ch],
	gnome-recent-marshal.list:
	All new files, replaces the old recent files system with a new
	model-view system.
	* gedit-file.c (gedit_file_open_recent):  Small changes to cope with
	gnome-recent stuff
	* gedit-mdi.c: ditto
	* gedit-recent.[ch]:  Essentially, these are new, even though they
	existed before.  This is just an accessor for the gnome-recent
	model now.

	All of this stuff should fix bug #76641 (problems when FAM isn't
	available).

2002-04-23  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c (gedit_document_save_as_real): Properly handle
	file permissions.  Fixes bug #76196 (patch approved by Chema
	Celorio).

2002-04-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.[ch] (gedit_view_set_font)(gedit_view_set_colors):
	added the def parameter

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences):
	removed unused code and fixed bug #76407

2002-04-20  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fixed bug #79277

2002-04-20  Abel Cheung  <maddog@linux.org.hk>

	* gedit-commands.c: Added translator_credits.

2002-04-18  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-ui.xml:  Change the shortcut for the plugin manager to be "M"
	instead of "P" (which conflicted with the shortcut for "Paste")

2002-04-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-menus.[ch] (gedit_menus_add_menu_item_toggle): new function
	(gedit_menus_add_menu_item_toggle_all): ditto
	
2002-04-17  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fixed bug #78856 (I hope!)

2002-04-16  Hema Seetharamaiah <hema.seetharamaiah@wipro.com>

	* Accessibility Changes. Mainly setting up of relations, Accessible name/descriptions.
	  Files affected :
	  - gedit-utils.c
	  - gedit-utils.h
	  - dialogs/gedit-preferences-dialog.c
	  - dialogs/gedit-preferences.glade2
	  - dialogs/plugin-manager.glade2
	  - dialogs/replace.glade2
	  - dialogs/goto-line.glade2
	  - dialogs/program-location-dialog.glade2
	  - dialogs/uri.glade2

2002-04-15  Kjartan Maraas  <kmaraas@gnome.org>

	* dialogs/gedit-dialog-plugin-manager.c: #include <config.h>
	* dialogs/gedit-dialog-replace.c: Same.
	* dialogs/gedit-dialog-uri.c: Same and mark a string for translation.
	The preferences dialog still isn't working with localization though :(

2002-04-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Fixed bug #77404

	* dialogs/gedit-preferences.glade2: Fixed bugs #77403
	and #77401

2002-04-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Fixed bug #76763
	
	* dialogs/gedit-preferences-dialog.c: Fixed point 5 
	of bug #76500

2002-03-28  Abel Cheung  <maddog@linux.org.hk>

	* gedit-ui.xml: Fix typo.

2002-03-27  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/*.glade2: fixed bug #76341

2002-03-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.h: added g_uft8_caselessnmatch function

	* gedit-document.c:
	* gedit-utils.c:
	* dialogs/gedit-dialog-replace.c: fixed bug #75869

	* dialogs/gnome-print-font-dialog.c (gfsd_modify_preview_phrase):
	prototype changed to return void.

2002-03-19  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/gnome-print-font-dialog.c (gfsd_modify_preview_phrase):
	return NULL, otherwise build fails.

2002-03-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: fix bug #75085

	* gedit-view.c (gedit_view_grab_focus): fix 
	bug #75112

2002-03-18  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi-child.c: cleaned
	* bonobo-mdi.c: cleaned
	* bonobo-mdi.h: cleaned
	* gedit-mdi-child.c: cleaned
	* gedit-mdi.c: cleaned
	* gedit-view.c: cleaned
	* gedit-file.c: cleaned

	* dialogs/Makefile.am: added gnome-print-font-picker.c,
	gnome-print-font-picker.h, gnome-print-font-dialog.c,
	gnome-print-font-dialog.h

	* dialogs/gnome-print-font-picker.c: new file
	* dialogs/gnome-print-font-picker.h: new file
	* dialogs/gnome-print-font-dialog.c: new file
	* dialogs/gnome-print-font-dialog.h: new file

	* dialogs/gedit-preferences-dialog.c: added
	the Print/Fonts page (needed to fix bug #71364)
	* dialogs/gedit-preferences.glade2: ditto
	
2002-03-15  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c:
	* dialogs/gedit-preferences.glade2: added a print font page

2002-03-12  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit-utils.c: Fix some strings to be consistent wrt «.» and throw
	in some spaces where needed.
	
2002-03-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugin.c: new file

	* gedit-plugin.h: declare gedit_plugin_locate_program

	* Makefile.am (gedit_SOURCES): add gedit-plugin.c

	* gedit-commands.c: fix bug #71841 

	* dialogs/gedit-dialog-plugin-manager.c: ditto

	* dialogs/gedit-dialog-uri.c: ditto

	* dialogs/gedit-plugin-program-location-dialog.c: ditto

2002-03-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.[ch]: added new max_recents pref

	* gedit-mdi.c (gedit_mdi_app_created_handler):
	use gedit_setting->max_recent

	*gedit-recent.c: 
	#define GEDIT_RECENT_BASE_KEY "/apps/gedit-2/recent-files"

2002-03-05  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: #defined DATADIR

	* gedit2.c (main): set GNOME_PARAM_APP_DATADIR in gnome_program_init

2002-03-04  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit-utils (gedit_utils_error_reporting_loading_file): Fix a typo.
	
2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_update_menus): more mem leak cleanup

2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c
	(gedit_recent_g_slist_deep_free): Remove warning spew.
	Changed the base gconf key to be in a more correct place.

2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c
	(gedit_recent_monitor_uri): Fixed mem leak.
	(gedit_recent_add): Ditto.

2002-03-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_statusbar_style):
	now the resize_grip really works

	* gedit-ui.xml: fixed for resize_grip

	* gedit-file.c (gedit_file_open_single_uri): open
	the new document in the active_child if this one
	is untouched
	(gedit_file_open_recent): don't try to grab focus
	if no active view exists

2002-02-28  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_menu_cb):  Don't free the menu data
	(this fixes a crash).  Other misc. cleanup.

2002-02-28  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/replace.glade2: removed requires lib="gnome" 

	* gedit-utils.c: fixed bug #72953

	* gedit-undo-manager.c: mem leak fixed

2002-02-27  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_menu_cb): Don't add the URI to the
	list.  Also added debugging messages.

2002-02-27  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_notify_cb): Check whether there is
	a BonoboUIComponent
	* gedit-mdi.c (gedit_mdi_get_recent_from_window): Do better error
	checking.

2002-02-27  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_save_as_real):
	fixed bug #67037

2002-02-26  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.[ch]:  Completely replaced by new code.  This will
	make its way into a library somewhere soon.
	* gedit-mdi.[ch]:  Made to use the new gedit-recent.
	* gedit-file.c:  Ditto

2002-02-25  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c
	(gedit_preferences_dialog_auto_save_checkbutton_toggled):
	new function
	(gedit_preferences_dialog_setup_save_page): connect "toggled"
	signal of the auto save checkbutton

2002-02-25  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_help_contents): new 
	function

	* gedit-menus.[c]: added HelpContents to gedit_verbs 

2002-02-23  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit2.c: Remove unsupported #ifdef ENABLE_NLS stuff.
	
2002-02-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.c (gedit_utils_error_reporting_reverting_file):
	report more helpful error messages
 
2002-02-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch](gedit_utils_error_reporting_loading_file)
	(gedit_utils_error_reporting_saving_file)
	(gedit_utils_error_reporting_reverting_file): new functions

	* gedit-file.c: use the new functions to report errors

	* gedit-document.c (gedit_document_save_as_real): better
	error reporting

2002-02-22  Federico Mena Quintero  <federico@ximian.com>

	* bonobo-mdi.c: Replace gtk_object_*  with the new
	GObject calls.
	* gedit-mdi.c: Likewise.

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	gedit-ui.xml: In menus, all the words (except 'and') should start 
	with a capital letter (That's just the convention for menus)

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.[ch](gedit_mdi_clear_active_window_statusbar):
	new function

	* gedit-file.c (gedit_file_close): call 
	gedit_mdi_clear_active_window_statusbar	
	(gedit_file_close_all): ditto

	* gedit-document.c (gedit_document_get_untitled_number)
	(gedit_document_release_untitled_number): new function
	Now the untitled numbers are assigned in a smarter way

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_new): active view  grabs focus 
	(gedit_file_open_recent): ditto

	* gedit-view.c (gedit_view_finalize): removed really broken
	code I really don't know why I wrote

	* dialogs/plugin-manager.glade2: added support for long text
	in the notebook pages

2002-02-21  Paolo Maggi  <maggi@athena.polito.it>

	Name changed: gedit2->gedit

	* gedit-ui.xml: removed Tools menu

2002-02-21  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c: continuing fix bug #71940
	* gedit-ui.xml: ditto
	* dialogs/gedit-preferences-dialog.c: get rid of user interface
	related pages (Toolbar and Status bar)

2002-02-20  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c: fix bug #71940
	* gedit-mdi.c: ditto

2002-02-20  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fix bug #71940

2002-02-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: rewritten to be HIG compliance (bug #71850)
	I asked the release team's permission before committing and breaking
	the UI freeze ;)
	View menu still does not work.

2002-02-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-undo-manager.c (gedit_undo_manager_merge_action): fixed
	bug #71830

2002-02-14  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_get_selected_plugin): rewritten
	
2002-02-13  Kjartan Maraas  <kmaraas@gnome.org>

	* bonobo-mdi.c: #include <config.h> for proper i18n.
	* gedit-document.c: Same here.
	* gedit-file.c: Same.
	* gedit-file-selector-util.c: Same.
	* gedit-plugins-engine.c: Same
	* gedit-print.c: Same.
	* gedit-view.c: Same
						
2002-02-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-undo-manager.c: now it should work well also with
	non-ASCII chars

2002-02-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: added EditOps_5 placeholder

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_construct_tree): unref model

	* dialogs/gedit-preferences-dialog.c (finalize): unref tree model

	* dialogs/plugin-manager.glade2: fixed scrolling bug

2002-02-08  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_save_a_copy_as): 
	new function

	* gedit2.[ch] (gedit_get_open_documents): new function

	* dialogs/Makefile.am: added gedit-plugin-program-location-dialog.c

	* gedit-plugin-program-location-dialog.c: new file

	* dialogs/gedit-dialogs.h (gedit_plugin_program_location_dialog):
	new function

	* dialogs/program-location-dialog.glade2: new file

2002-02-07  Federico Mena Quintero  <federico@ximian.com>

	* gedit2.c (main): Do not call setlocale().  We should not be
	forcing the locale on anyone.

2002-02-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_get_cursor)
	(gedit_document_set_cursor): new functions
	
2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit_mdi.c (gedit_mdi_update_ui_according_to_preferences):
	fix mem leak

	* gedit-plugins-engine.c (gedit_plugins_engine_save_settings):
	ditto

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_get_selected_plugin):ditto

	* dialogs/gedit-preferences-dialog.c: warning cleans.

2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_set_tab_size): 
	now it works
	(gedit_view_calculate_real_tab_width): new static 
	function
	(gedit_view_new): set tab size

	* gedit_mdi.c (gedit_mdi_update_ui_according_to_preferences):
	set tab size for each view

	* dialogs/gedit-preferences-dialog: show the tab page
	(gedit_preferences_dialog_update_settings): get tab size from
	the tab page
	
2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: define G*_DEPRECATED 
	in INCLUDES

	* *.c: fix to compile with G*_DEPRECATED
 
2002-02-05  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/Makefile.am: define G*_DEPRECATED 
	in INCLUDES

	* dialogs/gedit-dialog-goto-line.c:
	* dialogs/gedit-dialog-plugin-manager.c:
	* dialogs/gedit-dialog-replace.c:
	* dialogs/gedit-preferences-dialog.c: fix to compile
	with G*_DEPRECATED
	
2002-02-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file-selector-util.c: removed unused code
	
	* gedit-debug.c:
	* gedit-debug.h:
	* gedit-document.c:
	* gedit-document.h:
	* gedit-file.c:
	* gedit-plugins-engine.c:
	* gedit-plugins-engine.h:
	* gedit-prefs.c:
	* gedit-prefs.h:
	* gedit-print.c:
	* gedit-recent.c:
	* gedit-undo-manager.c:
	* gedit-utils.c:
	* gedit2.c:
	* gedit2.h:
	* dialogs/gedit-preferences-dialog.c: warning cleans.

2002-01-29  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.c (remove_message_timeout): re-write not
	using bonobo_ui_engine
	(bonobo_window_flash): ditto

2002-01-29  Michael Meeks  <michael@ximian.com>

	* gedit-mdi.c: re-write not using bonobo_ui_engine
	this was wrong.

	* *.[ch]: warning cleans.

2002-01-26  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-menus.[ch]:
	(gedit_menus_[add/remove]_menu_item,
	 gedit_menus_[add/remove]_menu_item_all):
	new functions, make it easier for plugins to add menus to
	toplevel windows.

2002-01-24  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_get_selected_text): now
	take two new paramters: start and end
	(gedit_document_get_line_at_offset): new function

	* gedit-print.c (gedit_print_document): print the right start
	line number when printing selections

	* dialogs/plugin-manager.glade2: cosmetic changes

2002-01-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_commands_about_cmd): fixed the
	about box

	* gedit-document.c (gedit_document_set_readonly):
	removed unused code

	* gedit-file.c (gedit_file_exit): save plugins settings
	before exiting

	* gedit-plugins-engine.c: now it saves the plugins settings

2002-01-23  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/plugin-manager.glade2:  Added GtkLabels in the "Details"
	notebook page for plugin name and copyright.
	
	* dialogs/gedit-dialog-plugin-manager.c
	(dialog_plugin_manager_update_info):  Update the plugin name and
	copyright information, along with some other small tweaks.
	(row_activated):  Changed the behavior to toggle the "active" state
	of the plugin, instead of configuring it.


2002-01-22  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-file.c:  Fixed a bug where after opening one of the recent
	documents, garbage would appear on the status bar.  This was caused
	by gedit_recent_add() freeing the uri before we were done with it.

	* gedit-mdi.c:  Fixed calls to bonobo_ui_engine_xml_set_prop (it
	previously would not compile).
	* gedit-menus.c:  ditto

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_doc_readonly_changed_handler):
	new static function
	(gedit_view_new): connect to the readonly_changed signal
	from doc

	* gedit-document.c (gedit_document_set_readonly):
	commented code to set not_editable tag. It is no more
	needed

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugins-engine.[ch] (gedit_plugins_engine_configure_plugin):
	new function

	* dialogs/gedit-dialog-plugin-manager.c: now use
	gedit_plugins_engine_configure_plugin

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_help_about): added James to
	authors

2002-01-21  James Willcox <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-plugin-manager.c: Implemented the plugin
	manager.

	* dialogs/plugin-manager.glade2: UI for the plugin manager.


2002-01-21  Marcel K. de Carli Silva <magaljedi@bol.com.br>

	* gedit2.c (main): check if args != NULL only one time
	(options): use POPT_ARG_NONE to indicate no argument

	* gedit-prefs.c (gedit_prefs_save_color): new functio
	(gedit_prefs_load_color): ditto
	(gedit_prefs_save_settings): use gedit_prefs_save_color
	(gedit_prefs_load_settings): use gedit_prefs_load_color

2002-01-20  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugins-engine.c (gedit_plugins_engine_load):
	load "configure", "save_settings", "update_ui" and "destroy"
	symbols

2002-01-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c: update plugins UI when needed

	* gedit-plugin.h: cleaned a bit

	* gedit-plugins-engine.[ch]: implemented the plugin engine

	* gedit2.c (main): initialize the plugin engine
	
2002-01-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c:  Fixed some little problems
	with auto-save

	* gedit2.c: removed plugin initialization

2002-01-17  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-document.c:  Added support for auto-save.
	(gedit_document_auto_save_timeout): New function
	(gedit_document_auto_save): ditto
	(gedit_document_save): reset auto save timer (if needed)
	(gedit_document_load): start auto save timer (if needed)
	(gedit_document_finalize): remove auto save timer

	* dialogs/gedit-preferences.glade2: made the auto save widgets
	sensitive.

2002-01-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_insert_text_at_cursor):
	new function

	* gedit2.[ch] (gedit_get_top_windows): new function
	(gedit_get_ui_component_from_window): ditto

	* gedit-ui.xml: added a lot of new placeholders

2002-01-16  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: defined GEDIT_LOCALEDIR

	[Added a +<lnum> option (like vi)] Thanks to James Willcox 
	for his work on it

	[Started implemetation of plugin support]

	* gedit-plugin.h: new file

	* gedit-plugins-engine.[ch]: ditto

	[Fixed some bug with notebook labels in bonobo-mdi]
	
2002-01-15  Paolo Maggi  <maggi@athena.polito.it>
	
	* gedit-utils.h (gedit_text_iter_forward_search): new prototype

	* gedit-utils.c (gedit_text_iter_forward_search): new experimental
	function to perform case insensitive search (beside normal case
	sensitive search)
	(g_utf8_strcasestr): new private function
	(g_uft8_caselessnmatch): ditto
	(forward_chars_with_skipping): ditto
	(lines_match): ditto
	(strbreakup): ditto

	* gedit-document.c (gedit_document_find): enabled support for
	case insensitive search. Use the new gedit_text_iter_forward_search

	* dialogs/gedit-dialog-replace.c: enabled support for case insensitive
	search

2002-01-14  James Willcox <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-replace.c:  Made one small change
	in the wording of the search error message.  (The consensus is
	that the word "string" shouldn't appear in an error message).

	* dialogs/gedit-preferences.glade2:  More string fixes.

2002-01-14  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_load): add some debug
	message

	* gnome-vfs-helpers.c (gnome_vfs_x_read_entire_file): hack to
	fix a bug when loading ftp files

	* gedit-ui.xml: hide debug menu 
	
2002-01-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.c: save and load window size
	(gedit_prefs_configure_event_handler): new function
	
	* gedit-pref.h (gedit_prefs_configure_event_handler): 
	new prototype

	* gedit-mdi.c (gedit_mdi_app_created_handler): connect the
	"configure_event" signal of the created window to 
	gedit_prefs_configure_event_handler to track window size
  
2002-01-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.[ch]:
	* gedit-mdi.c:
	* gedit-view.[ch]:
	* dialogs/gedit-preferences-dialog.c:
	* dialogs/gedit-preferences-dialog.glade: 

	[Add current cursor position and overwrite
	mode on statusbar. Enjoy it - It is too late
	and I'm too lame to write a more detailed
	Change Log entry]

2002-01-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c: now it can display line numbers
	(gedit_view_show_line_numbers): new function
	(gedit_view_get_lines): ditto
	(gedit_view_line_numbers_expose): ditto

	* gedit-view.h (gedit_view_show_line_numbers): new prototype
	
	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): call 
	gedit_view_show_line_numbers

	* gedit-prefs.[ch]: added the show_line_numbers setting

	* dialogs/gedit-preferences-dialog.c : added a line numbers page

	* dialogs/gedit-preferences-dialog.glade2: ditto

	* dialogs/gedit-dialog-goto-line.c (goto_button_pressed): go to the 
	right line number

2002-01-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit2.[ch]: added flags gedit_close_x_button_pressed and
	gedit_exit_button_pressed 

	* gedit-commands.c (gedit_cmd_file_close): update 
	gedit_close_x_button_pressed
	(gedit_cmd_file_close_all): ditto
	(gedit_cmd_file_exit): update gedit_exit_button_pressed

	* gedit-utils.[ch] (gedit_dialog_add_button): new function

	* gedit-file-selector-util.c (replace_existing_file): use new
	gedit_dialog_add_button function

	* gedit-prefs.h: cleaned

	* gedit-recent.c: renamed some functions (now all the function
	as the gedit prefix)

	* gedit-file.c: finished porting to the new gedit-file-selector API
	(gedit_file_save_as_real): new function
	(gedit_file_save_as_ok_button_clicked_handler): call 
	gedit_file_save_as_real

2002-01-10  Jason Leach  <jasonleach@usa.net>

	[Use gconf to store recent documents opened]

	* gedit-recent.c (gedit_recent_history_save): Renamed from
	gedit_recent_history_write_config.

	* gedit-recent.c (recent_history_get_list): Use gconf in place of
	gnome_config.
	(recent_history_update_list): Ditto.

2002-01-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Exit button removed from toolbar

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): really check
	system settings

	* gedit-commands.c (gedit_cmd_help_about): cosmetic changes

2002-01-09  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch] (gedit_button_new_with_stock_image): new function

	* dialogs/gedit-dialog-goto-line.c: now the goto line dialog is modal

	* dialogs/gedit-dialog-replace.c (dialog_replace_get_dialog): use the 
	new gedit_button_new_with_stock_image function to set an image for
	the replace button

2002-01-08  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file-selector-util.[ch]: new files

	* gedit-file.c (gedit_file_open): use gedit_file_selector_open

	* gedit-undo-manager.c: fixed some UTF-8 related problem

	* gedit-document.c (gedit_document_save_as_real): save using locale
	encoding if requested

2002-01-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c (gedit_print_create_new_page):  new static function
	(gedit_print_end_page): ditto
	(gedit_print_paragraph): use gedit_print_create_new_page and 
	gedit_print_end_page to create new pages
	(gedit_print_document): ditto

2002-01-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c: now, it is possible to print line numbers
	(there are still some little issues to solve)
	(gedit_print_line): new static function

2002-01-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.h (gedit_document_has_selected_text): return FALSE
	if doc is not a GeditDocument

	* gedit-file.c (gedit_file_open_uri_list): fixed a compiler warning

	* gedit-prefs.c: load and save preferences for printing support
	(now they have new names)

	* gedit-print.c: use new preferences names

	* dialogs/gedit-preferences-dialog.c: the Print/Page page now 
	operates on the preferences

2002-01-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_file_print_preview): uncommented

	* gedit-prefs.[ch]: added some preferences for printing support
	
	* gedit-print.c: refinements here and there

 	* dialogs/gedit-preferences-dialog.c: added a Print/Page page

	* dialogs/gedit-preferences.glade2: ditto


2002-01-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c (gedit_print_get_next_line_to_print_delimiter): 
	little improvement in precision. It is still not so precise as I would
	like

2002-01-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_save_as_real): create
	a backup copy of the file before saving
	(gedit_document_has_selected_text): new function
	
	* gedit-document.h (gedit_document_has_selected_text): new 
	prototype

	* gedit-prefs.[ch]: preferences for printing support added

	* gedit-print.c: rewritten, now gedit2 has a basic printing
	support

	* dialog/gedit-preferences-dialog.c: added a Save page

	* dialogs/gedit-preferences.glade2: ditto

2001-12-29  Paolo Maggi  <maggi@athena.polito.it>
	
	* gedit-prefs.[ch]: rewritten

	* gedit-mdi.c: use new preference names
	
	* gedit-undo-manager.c: ditto

	* gedit-view.c: ditto
     
	* dialogs/gedit-preferences-dialog.c: ditto

2001-12-19  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c (bonobo_mdi_init_instance): force tab position to be top

	* gedit-mdi.c (gedit_mdi_init): ditto
	
	* gedit-document.c: fixed some bugs when dealing with readonly docs
	
2001-12-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_search_replace): call gedit_dialog_replace ()

	* gedit-document.c: added last_replace_text and last_search_was_case_sensitive
	fields to GeditDocumentPrivate
	(gedit_document_finalize): free last_replace_text
	(gedit_document_get_short_name): return the right value when  doc->priv->uri != NULL
	(gedit_document_begin_user_action): new public function
	(gedit_document_end_user_action): ditto
	(gedit_document_get_last_searched_text): call gedit_debug
	(gedit_document_get_last_replace_text): new public function
	(gedit_document_find): cleaned
	(gedit_document_get_selected_text): new public function
	(gedit_document_replace_selected_text): ditto
	(gedit_document_replace_all): ditto

	* gedit-document.h: added prototypes for new public functions (see gedit-document.c log)
	
	* dialogs/gedit-dialog-replace.c: added support for replace; find and replace dialog are no more
	modal

	Thanks to snorp (James Willcox  <jwillcox@cs.indiana.edu>) for his
	help in implementing find and replace.
	
2001-12-14  Gediminas Paulauskas <menesis@delfi.lt>

	* gedit-marshal.list: added this file with one marshaller, which
	previously was in libgnome.

	* Makefile.am: generate, use, and dist gedit-marshal.*

	* bonobo-mdi.c: replace gnome_marshal with gedit_marshal

2001-12-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED: set OK button as default 
	(gedit_cmd_search_find_again): set OK button as default in the GtkMessageDialog 
	(gedit_cmd_settings_preferences): added alert dialog

	* gedit-file.c: set OK button as default in all the alert dialogs
	(gedit_file_close_all): update UI items sensitivity

	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity): behave
	gently when active_window == NULL

	* gedit-prefs.c: write and read GEDIT_BASE_KEY GEDIT_PREF_WRAP_MODE and
        GEDIT_BASE_KEY GEDIT_PREF_TOOLBAR_LABELS as int

	* dialogs/gedit-preferences-dialog.c (gedit_preferences_dialog_update_settings):
	update font and colors settings even if the default ones are selected

2001-12-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_help_about): fixed

	* dialogs/gedit-preferences-dialog.c : Save page added (it still
        does nothing)

2001-12-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.c (gedit_prefs_save_settings): check if gconf_client != NULL
	(gedit_prefs_load_settings): ditto
	(gedit_prefs_init): ditto

	* bonobo-mdi.c: calls to g_print removed

2001-12-10  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-prefs.c: Converted to use gconf.

2001-12-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): icons->icon

2001-12-09  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.child.c (bonobo_mdi_child_instance_init): ref and sink mdi_child

	* bonobo-mdi.c (bonobo_mdi_instance_init): ref and sink mdi
	(book_motion)(book_button_press)(book_button_release): fix a bug related to
	GtkNotebook being NO_WINDOW
	(set_active_view): call gtk_widget_grab_focus on the view
	(bonobo_mdi_set_active_view): removed a call to gtk_widget_grab_focus

	* gedit-document.c (gedit_document_load): try to convert file contents to UTF8
	from current locale if the file contains invalid UTF8 data

	* gedit-file.c (gedit_file_exit): save prefs before unreffing gedit_mdi
	(gedit_file_open_uri_list): passes the active child to gedit_file_open_real

	* gedit-mdi-child.c (gedit_mdi_child_create_view): removed unused old code

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): set selected 
	text colors
	(gedit_mdi_init): fix a leak
	
	* gedit-prefs.[ch]: added prefs for selected text colors

	* gedit-view.c (gedit_view_grab_focus): yeah, now we have a red blinking cursor
	(gedit_view_init)(gedit_view_set_colors): set selected text colors

	* dialogs/gedit-dialog-uri.c: ativate Open button when ENTER is pressed

	* dialogs/gedit-preferences-dialog.c: added support for selected text colors

2001-12-08  Abel Cheung  <maddog@linux.org.hk>

	* gedit-file.c: Fixed misspellings.

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED): new macro
	(gedit_cmd_file_print): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_file_print_preview): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_help_about): added a caveat
	(gedit_cmd_search_find_again): new function
	(gedit_cmd_search_replace): marked as TO_BE_IMPLEMENTED

	* gedit-commands.h (gedit_cmd_search_find_again): new prototype

	* gedit-document.c (gedit_document_get_last_searched_text): new function
	(gedit_document_find_again): new function

	* gedit-document.h (gedit_document_get_last_searched_text): new prototype
	(gedit_document_find_again): ditto

	* gedit-menus.c: added SearchFindAgain to gedit_verbs []

	* gedit-prefs.c: added #include "gedit2.h".
	(gedit_prefs_save_settings): save the active top level window size

	* dialogs/gedit-dialog-replace.c (gedit_dialog_find): remember the last
	searched text per document

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_find): when some text is selected and you
	want to search beginning from the cursor position, start searching
	from the end of the selection 

	* dialogs/gedit-dialog-replace.c: added beginning and cursor to _GeditDialogFind
	and _GeditDialogReplace
	(find_dlg_find_button_pressed): set active "search from cursor" radiobutton
	when needed

2001-12-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c: added last_searched_text to GeditDocumentPrivate
        (gedit_document_finalize): free last_searched_text
	(gedit_document_find): new function

	* gedit-document.h (gedit_document_find): new prototype

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): set wrap mode too

	* gedit-prefs.h : word_wrap -> wrap_mode

	* gedit-prefs.c : #define DEFAULT_FONTSET removed. 
	Definition of DEFAULT_FONT changed, now the default font is Sans 12
	(gedit_prefs_save_settings): save wrap_mode
	(gedit_prefs_load_settings): use g_new0 to allocate settings. Load wrap_mode. 
	Fix a memory leak with font.

	* gedit-print.c : some experiment with libgnomeprintui-2.0. It is really broken :-(

	* gedit-ui.xml : hide Plugins and Debug menus

	* gedit-view.c (gedit_view_init): use the preferrend wrap_mode when a GeditView is
	created. Fixed a bug with colors and font preferences.
	(gedit_view_set_colors): rewritten to use gtk_widget_modify_base and 
	gtk_widget_modify_text
	(gedit_view_set_font): rewritten to use gtk_widget_modify_font
	(gedit_view_set_wrap_mode): new function
	(gedit_view_set_tab_size): new function. ATTN: it is broken

	* gedit-view.h: (gedit_view_set_wrap_mode): new prototype
	(gedit_view_set_tab_size): new prototype

	* dialogs/gedit-dialog-replace.c : gedit-mdi-child.h and gedit-debug.h #included
	(find_dlg_find_button_pressed): implemented
	(gedit_dialog_find): close correcly the find dlg

	* dialogs/gedit-preferences-dialog.c : wrap mode page added.
	Save and Tabs pages hidden. Paper and Page empty pages added.
	(gedit_preferences_dialog_setup_logo_page): new function
	(gedit_preferences_dialog_setup_wrap_mode_page): ditto
	(gedit_preferences_dialog_update_settings): read data from wrap mode page too.
	
	* gedit-preferences.glade2 : wrap mode page added.

2001-11-28  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_settings_preferences): now it really update gedit settings
	  (gedit_cmd_help_about): cleaned a bit

	* gedit-mdi.c (gedit_mdi_set_app_status_bar): removed
	  (gedit_mdi_set_app_statusbar_style): new functio
	  (gedit_mdi_set_app_toolbar_style): almost rewritten
	  (gedit_mdi_update_ui_according_to_preferences): new function

	* gedit-mdi.h (gedit_mdi_update_ui_according_to_preferences): new prototype

	* gedit-prefs.[ch]: removed some unused prefs

	* gedit-view.c (gedit_view_init): use the preferred colors and font when 
	  a GeditView is created
	  (gedit_view_set_colors): new function
	  (gedit_view_set_font): ditto

	* gedit-view.h (gedit_view_set_colors): new prototype
	  (gedit_view_set_font): ditto

	* dialogs/gedit-preferences-dialog.c: cleaned
          (gedit_preferences_dialog_update_settings): new function

2001-11-27  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: added Undo and Tabs pages, removed Save page.

	* dialogs/gedit-preferences.glade2: finished... I hope

2001-11-26  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	ui_DATA defined, added gedit-print.c and gedit-print.h to gedit2_SOURCES

	* bonobo-mdi.c (app_create): removed old commented code

	* gedit-commands.[ch] (gedit_cmd_file_print): new function
	  (gedit_cmd_file_print_preview): ditto
          (gedit_cmd_settings_preferences): ditto
	  
	* gedit-file.c	(gedit_file_save_as_ok_button_clicked_handler): typo

	* gedit-mdi.c (gedit_mdi_init): removed old commented code, search
	gedit-ui.xml in the rigth location

	* gedit-menus.c: added FilePrint, FilePrintPreview and SettingsPreferences to
	gedit_verbs []

	* gedit-prefs.[ch]: added two new preferences, i.e. use_default_font and use_default_colors

        * dialogs/Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	added gedit-preferences-dialog.[ch] to libdialogs_a_SOURCES

	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog): search glade file in the rigth location

	* dialogs/gedit-dialog-uri.c (dialog_open_uri_get_dialog): ditto

	* dialogs/gedit-dialog-replace.c (dialog_replace_get_dialog): ditto
	  (gedit_dialog_replace): close window only when "replace all" or "close" button is pressed
	
	* gedit-print.[ch]
	* dialogs/gedit-preferences.glade2
	* dialogs/gedit-preferences-dialog.[ch]: new files


2001-11-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_search_replace): new function 

	* gedit-menus.c: added SearchReplace to gedit_verbs []

	* dialogs/gedit-dialog-replace.c: almost rewritten 

	* dialogs/gedit-dialogs.h (gedit_dialog_replace): new prototype

2001-11-19  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c: (bonobo_mdi_destroy) doesn't use GTK_OBJECT_DESTROYED anymore
	
	* gedit-document.[ch] (gedit_document_load_from_stdin): new function
	(gedit_document_begin_not_undoable_action): ditto
	(gedit_document_end_not_undoable_action): ditto

	* gedit-file.[ch] (gedit_file_open_from_stdin): new function
	
	* gedit-recent.c (gedit_recent_cb): check if active_child != NULL before
	casting to GEDIT_MDI_CHILD

	* gedit2.c (gedit_load_file_list): now calls gedit_file_open_from_stdin (NULL)

2001-11-16  Carlos PerellÃ³ MarÃ­n <carlos@gnome-db.org>

	* gedit2.c: Added support to AM_GLIB_GNU_GETTEXT
	* gedit-recent.c, gedit-utils.c, gedit-document.c, gedit-file.c:
	Fixed the gnome-vfs-helpers.h include.

2001-11-16  Paolo Maggi   <maggi@athena.polito.it>

	* Started the port to GNOME 2.0

2001-11-16  Carlos PerellÃ³ MarÃ­n <carlos@gnome-db.org>

	* ChangeLog: rolled over to ChangeLog-20011116.
